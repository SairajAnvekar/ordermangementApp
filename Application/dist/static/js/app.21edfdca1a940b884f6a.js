webpackJsonp([3],{"+k2h":function(t,e){function a(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";this.tableBody=t,this.excelFormatData=a,this.header=e}a.prototype.generate=function(){var t="<thead> <tr>";this.header.forEach(function(e){t=t+"<td>"+e.text+"</td>"}),t+="</tr> </thead>",this.excelFormatData='<html xmlns:x="urn:schemas-microsoft-com:office:excel">',this.excelFormatData=this.excelFormatData+"<head><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet>",this.excelFormatData=this.excelFormatData+"<x:Name>Test Sheet</x:Name>",this.excelFormatData=this.excelFormatData+"<x:WorksheetOptions><x:Panes></x:Panes></x:WorksheetOptions></x:ExcelWorksheet>",this.excelFormatData=this.excelFormatData+"</x:ExcelWorksheets></x:ExcelWorkbook></xml></head><body> <table>",this.excelFormatData=this.excelFormatData+t,this.excelFormatData=this.excelFormatData+this.tableBody,this.excelFormatData=this.excelFormatData+"</table></body></html>",console.log(this.header),console.log("header")},a.prototype.download=function(){var t=document.createElement("a");if(window.navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./)){if(window.navigator.msSaveBlob){var e=new Blob([tab_text],{type:"application/csv;charset=utf-8;"});navigator.msSaveBlob(e,"report.xls")}}else{t.setAttribute("href","data:application/vnd.ms-excel, "+encodeURIComponent(this.excelFormatData));var a=Math.floor(Date.now()/1e3);t.setAttribute("download","Report_"+a+".xls"),t.click(),t.remove}},t.exports=a},"/vmN":function(t,e){},BsTn:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{dark:""}},[e("div",{attrs:{id:"app","app-data":"true"}},[e("router-view")],1)])},staticRenderFns:[]};var s=a("VU/8")({name:"App"},o,!1,function(t){a("VAdP")},null,null).exports,n=a("/ocq"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},i,!1,function(t){a("RqNW")},"data-v-3b884edb",null).exports;var l=a("mtWM"),d=a.n(l),c=a("VB9a"),u=a.n(c),v=u.a.API_URL,m={user:{authenticated:!1},authenticate:function(t,e,a){var r=this;d.a.post(v+"/api/v1/auth",e).then(function(e){var o=e.data;t.$cookie.set("token",o.token,"1D"),t.$cookie.set("role",o.user.role,"1D"),t.$cookie.set("username",o.user.username,"1D"),t.$cookie.set("id",o.user._id,"1D"),t.validLogin=!0,r.user.authenticated=!0,a&&nt.push(a)}).catch(function(e){var a=e.response.data;t.snackbar=!0,t.loading=!1,t.message=a.message})},signout:function(t,e){t.$cookie.delete("token"),this.user.authenticated=!1,e&&nt.push(e)},signup:function(t,e,a){var r=this;d.a.post(v+"/api/v1/signup",e).then(function(o){var s=o.data.token;t.$cookie.set("token",s,"1D"),t.validSignUp=!0,r.user.authenticated=!0,r.authenticate(t,e,a)}).catch(function(e){var a=e.response.data;t.snackbar=!0,t.loading=!1,t.message=a.message})},checkAuthentication:function(){var t=document.cookie;this.user.authenticated=!!t},getAuthenticationHeader:function(t){return"Bearer "+t.$cookie.get("token")}},p={data:function(){return{snackbar:!1,validLogin:!1,validSignUp:!1,signUpVisible:!1,loginPasswordVisible:!1,signUpPasswordVisible:!1,loading:!1,rules:[function(t){return!!t||"This field is required"}],credentials:{username:"",password:""},newUser:{username:"",password:""},message:""}},methods:{submitAuthentication:function(){this.loading=!0,m.authenticate(this,this.credentials,"/")},submitSignUp:function(){m.signup(this,this.newUser,"/")}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[0==t.signUpVisible?a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",{staticStyle:{width:"100%"},attrs:{width:"100"}},[a("v-avatar",{attrs:{size:"60",color:"indigo"}},[a("v-icon",{attrs:{size:"60",dark:""}},[t._v("account_circle")])],1)],1),t._v(" "),a("v-spacer")],1),t._v(" "),t.loading?a("v-progress-linear",{attrs:{color:"indigo",indeterminate:!0}}):t._e(),t._v(" "),a("v-card-text",[a("v-form",{attrs:{wrap:""},on:{submit:t.submitAuthentication},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.submitAuthentication(e)}},model:{value:t.validLogin,callback:function(e){t.validLogin=e},expression:"validLogin"}},[a("v-text-field",{attrs:{"prepend-icon":"account_box",rules:t.rules,required:"",name:"login",label:"Login",type:"text"},model:{value:t.credentials.username,callback:function(e){t.$set(t.credentials,"username",e)},expression:"credentials.username"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"lock",rules:t.rules,"append-icon":t.loginPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return t.loginPasswordVisible=!t.loginPasswordVisible},type:t.loginPasswordVisible?"text":"password",required:"",name:"password",label:"Password",id:"password"},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password",e)},expression:"credentials.password"}})],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){t.submitAuthentication()}}},[t._v("Login")])],1)],1):t._e(),t._v(" "),t.signUpVisible?a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Sign Up form")]),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-card-text",[a("v-form",{model:{value:t.validSignUp,callback:function(e){t.validSignUp=e},expression:"validSignUp"}},[a("v-text-field",{attrs:{label:"Username","prepend-icon":"account_box",rules:t.rules,required:""},model:{value:t.newUser.username,callback:function(e){t.$set(t.newUser,"username",e)},expression:"newUser.username"}}),t._v(" "),a("v-text-field",{attrs:{label:"Employe ID","prepend-icon":"account_box",rules:t.rules,required:""},model:{value:t.newUser.emp_id,callback:function(e){t.$set(t.newUser,"emp_id",e)},expression:"newUser.emp_id"}}),t._v(" "),a("v-text-field",{attrs:{label:"Password","prepend-icon":"lock",rules:t.rules,"append-icon":t.signUpPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return t.signUpPasswordVisible=!t.signUpPasswordVisible},type:t.signUpPasswordVisible?"text":"password",required:""},model:{value:t.newUser.password,callback:function(e){t.$set(t.newUser,"password",e)},expression:"newUser.password"}})],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){t.signUpVisible=!1}}},[t._v("Login")]),t._v(" "),a("v-btn",{attrs:{block:"",color:"primary",type:"submit"}},[t._v("Login")]),t._v(" "),a("v-btn",{attrs:{block:"",color:"primary"},nativeOn:{click:function(e){t.submitSignUp()}}},[t._v("Sign Up")])],1)],1):t._e(),t._v(" "),a("v-snackbar",{attrs:{bottom:"bottom",color:"red lighten-1"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n            "+t._s(t.message)+"\n          ")])],1)],1)],1)],1)],1)},staticRenderFns:[]},_=a("VU/8")(p,h,!1,null,null,null).exports,f=u.a.API_URL,g={data:function(){return{validated:1,loginPage:!1,totalOrders:0,totalPayment:0,cashMode:{}}},mounted:function(){this.test(),this.getAllOrder(),this.getAllOrderPayment()},methods:{test:function(){console.log(this.$vuetify.theme)},getAllOrderPayment:function(t){var e=this;this.orderLoading=!0,d.a.get(f+"/api/v1/orderPaymentReports",{headers:{Authorization:m.getAuthenticationHeader(this)},params:{startDate:(new Date).toISOString().substr(0,10),endDate:(new Date).toISOString().substr(0,10)}}).then(function(t){var a=[];t.data.forEach(function(t){e.totalPayment=e.totalPayment+t.paymentDetails.amount,a[t.paymentDetails.mode]=(a[t.paymentDetails.mode]||0)+t.paymentDetails.amount}),e.cashMode=a,console.log({byMode:a})})},getAllOrder:function(t){var e=this;this.orderLoading=!0,d.a.get(f+"/api/v1/orderReports",{headers:{Authorization:m.getAuthenticationHeader(this)},params:{startDate:(new Date).toISOString().substr(0,10),endDate:(new Date).toISOString().substr(0,10)}}).then(function(t){var a=t.data;return e.totalOrders=a.length})}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",[a("app-header"),t._v(" "),a("v-container",[a("v-list",[a("v-layout",{attrs:{row:"",wrap:"",header:""}},[a("v-flex",{attrs:{xs6:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"blue-grey darken-2"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Total Order for Today")]),t._v(" "),a("span",[a("h1",[t._v(t._s(t.totalOrders))])])])]),t._v(" "),a("v-card-text",{staticClass:"align-left"},[a("br")])],1)],1),t._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-card",{staticClass:"white--text",attrs:{color:"blue-grey darken-2"}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("div",{staticClass:"headline"},[t._v("Total Payment Today")]),t._v(" "),a("span",[a("h1",[t._v(t._s(t.totalPayment))])])])]),t._v(" "),a("v-card-text",{staticClass:"align-left"},[a("span",{staticClass:"headline"},[t._v("Cash : "+t._s(t.cashMode.Cash)+" ")]),t._v(" "),a("span",{staticClass:"headline"},[t._v("Cheque : "+t._s(t.cashMode.Cheque||0)+" ")]),t._v(" "),a("span",{staticClass:"headline"},[t._v("Card : "+t._s(t.cashMode.Card||0)+" ")])])],1)],1)],1)],1)],1),t._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},y=a("VU/8")(g,b,!1,null,null,null).exports,x=a("woOf"),k=a.n(x),D=u.a.API_URL;console.log(D);var w={data:function(){var t=this;return{validated:1,valid:!0,snackbar:!1,snackbarMessage:"",deleteDialog:!1,deleteUser:{},pageSetup:[20,30,40,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],snackbarColor:"success",loginPage:!1,dialog2:!1,search:"",usersList:[],role:this.$cookie.get("role"),employe:{username:"",password:"",emp_id:"",email:"",_id:"",tel_no:"",leaves:{privilege:null},role:"employe"},rules:{required:function(t){return!!t||"Required."},password:function(e){return console.log(""!==t.employe._id||!!e),""!==t.employe._id||!!e}},headers:[{text:"Username",align:"center",sortable:!1,value:"username"},{text:"Email",align:"center",value:"Action"},{text:"Role",align:"center",value:"Role"},{text:"Edit",align:"center",value:"Edit"}]}},mounted:function(){this.getAllUsers()},methods:{create:function(){this.dialog2=!0,this.employe={username:"",password:"",emp_id:"",email:"",_id:"",tel_no:"",role:"employe",leaves:{privilege:null}}},save:function(){var t=this;this.$refs.form.validate()&&d.a.post(D+"/api/v1/signup",this.employe).then(function(e){e.data.token;t.dialog2=!1,t.getAllUsers(),t.snackbarMessage="User Succesfuly Created",t.snackbarColor="green",t.snackbar=!0}).catch(function(e){e.response.data;t.snackbarMessage="Duplicate Username, Please try diffrent username",t.snackbar=!0,t.snackbarColor="error"})},getAllUsers:function(t){var e=this;d.a.get(D+"/api/v1/users",{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.usersList=a,console.log(a)})},editEmploye:function(t){delete t.password,this.dialog2=!0,this.employe=k()({},t)},confirmDelete:function(t){this.deleteDialog=!0,this.deleteUser=t},deleteUserAction:function(){var t=this;this.$cookie.get("id")==this.deleteUser._id?(this.snackbarMessage="Cannot delete login user",this.snackbar=!0,this.snackbarColor="error",this.deleteDialog=!1):d.a.put(D+"/api/v1/user/delete",this.deleteUser,{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(e){e.data;t.snackbarMessage="User Succesfuly Delete",t.snackbarColor="green",t.snackbar=!0,t.deleteDialog=!1,t.getAllUsers()}).catch(function(e){e.response.data;t.snackbarMessage="Something went wrong",t.snackbar=!0,t.snackbarColor="error",t.deleteDialog=!1})},update:function(t){var e=this;d.a.put(D+"/api/v1/user",this.employe,{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(t){t.data;e.dialog2=!1,e.snackbarMessage="User Succesfuly Updated",e.snackbarColor="green",e.snackbar=!0,e.getAllUsers()}).catch(function(t){t.response.data;e.snackbarMessage="Duplicate Username, Please try diffrent username",e.snackbar=!0,e.snackbarColor="error"})}}},A={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",[a("app-header"),t._v(" "),a("v-snackbar",{attrs:{color:t.snackbarColor,top:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.snackbarMessage)+"\n      "),a("v-btn",{attrs:{color:"white",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n        Close\n      ")])],1),t._v(" "),a("v-container",[a("h3",[t._v("Users")]),t._v(" "),a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog2=!1}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("Employe")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[t.employe._id?t._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.save()}}},[t._v("Save")]),t._v(" "),t.employe._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.update()}}},[t._v("Update")]):t._e()],1)],1),t._v(" "),a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[t._v("User Controls")]),t._v(" "),a("v-divider"),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Employe Name ",rules:[t.rules.required]},model:{value:t.employe.name,callback:function(e){t.$set(t.employe,"name",e)},expression:"employe.name"}})],1)],1),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"person_outline",label:"Employe Username ",rules:[t.rules.required]},model:{value:t.employe.username,callback:function(e){t.$set(t.employe,"username",e)},expression:"employe.username"}})],1)],1),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"mail",label:"Employe Email "},model:{value:t.employe.email,callback:function(e){t.$set(t.employe,"email",e)},expression:"employe.email"}})],1)],1),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"phone",label:"contact No ",required:""},model:{value:t.employe.tel_no,callback:function(e){t.$set(t.employe,"tel_no",e)},expression:"employe.tel_no"}})],1)],1),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"star",label:"New Password",rules:[t.rules.password],required:""},model:{value:t.employe.password,callback:function(e){t.$set(t.employe,"password",e)},expression:"employe.password"}})],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[t._v("Role")]),t._v(" "),a("v-radio-group",{model:{value:t.employe.role,callback:function(e){t.$set(t.employe,"role",e)},expression:"employe.role"}},[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{name:"emp",value:"employe"}})],1),t._v(" "),a("v-list-tile-content",{attrs:{for:"emp"}},[a("v-list-tile-title",[t._v("Employe")]),t._v(" "),a("v-list-tile-sub-title",[t._v("users")])],1)],1),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{value:"admin"}})],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Admin")]),t._v(" "),a("v-list-tile-sub-title",[t._v("Admin rights")])],1)],1)],1)],1)],1)],1)],1),t._v(" "),a("v-btn",{attrs:{color:"indigo",fab:"",dark:"",absolute:"",top:"",left:""},on:{click:function(e){t.create()}}},[a("v-icon",{attrs:{dark:""}},[t._v("group_add")])],1),t._v(" "),a("v-card",[a("v-card-title",[t._v("\n          Users\n          "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usersList,"item-key":"name",search:t.search,"rows-per-page-items":t.pageSetup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.username))]),t._v(" "),a("td",[t._v(t._s(e.item.email))]),t._v(" "),a("td",[t._v(t._s(e.item.role.toUpperCase()))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{outline:"",fab:"",small:"",color:"indigo"},on:{click:function(a){t.editEmploye(e.item)}}},[a("v-icon",[t._v("edit")])],1),t._v(" "),a("v-btn",{attrs:{outline:"",fab:"",small:"",color:"indigo"},on:{click:function(a){t.confirmDelete(e.item)}}},[a("v-icon",[t._v("remove")])],1)],1)]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"330"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Delete User")]),t._v(" "),a("v-card-text",[t._v("\n            Are you sure you want to delete this user ?\n          ")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.deleteDialog=!1}}},[t._v("\n              No\n            ")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.deleteUserAction()}}},[t._v("\n              Yes\n            ")])],1)],1)],1)],1),t._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},C=a("VU/8")(w,A,!1,null,null,null).exports,P=u.a.API_URL,O={data:function(){return{snackbar:!1,snackbarMessage:"",snackbarColor:"green",pageSetup:[20,30,40,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],valid:!0,view:!1,message:"test",validated:1,loginPage:!1,productDialog:!1,dialog:!1,deleteDialog:!1,deletingProduct:{},search:"",productLoading:!0,productList:[],categoryList:[],categoryId:"",role:this.$cookie.get("role"),categoryResult:{status:!1,error:""},productResult:{status:!1,type:"error",message:""},product:{size:{height:0,width:0,rate:0}},category:{name:"",code:""},rules:{required:function(t){return!!t||"Required."},validateNum:function(t){return!isNaN(t)&&t<0||"Number Required."},counter:function(t){return t.length<=20||"Max 20 characters"},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}},catHeaders:[{text:"Name",align:"center",value:"name"},{text:"Code",align:"center",sortable:!1,value:"code"},{text:"Delete",align:"center",value:"Edit"}],headers:[{text:"Code",align:"center",sortable:!1,value:"code"},{text:"Name",align:"center",value:"name"},{text:"Category Code",align:"center",value:"catCode"},{text:"Desc",align:"center",value:"Role"},{text:"Price",align:"center",value:"price"},{text:"Edit",align:"center",value:"Edit"}]}},mounted:function(){this.getAllProduct(),this.getCategory()},watch:{"product.size.height":function(t){this.product.hasSize&&(this.product.price=t*this.product.size.width*this.product.size.rate,this.product.price=this.roundToTwo(this.product.price))},"product.size.width":function(t){console.log(),this.product.hasSize&&(this.product.price=this.product.size.height*this.product.size.width*this.product.size.rate,this.product.price=this.roundToTwo(this.product.price))},"product.size.rate":function(t){this.product.hasSize&&(this.product.price=this.product.size.height*this.product.size.width*this.product.size.rate,this.product.price=this.roundToTwo(this.product.price))}},methods:{getAllProduct:function(t){var e=this;this.productLoading=!0,d.a.get(P+"/api/v1/product",{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.productList=a,e.productLoading=!1,console.log(a)})},deleteConfirm:function(t){this.deletingProduct=t,this.deleteDialog=!0},showing:function(){this.$nextTick(this.$refs.txt.focus)},create:function(){this.productDialog=!0,this.product={size:{height:0,width:0,rate:0}}},editProduct:function(t){this.productDialog=!0,this.product=t,this.product.hasSize||(this.$set(this.product,"size",{height:0,width:0,rate:0}),this.view=!1)},viewProduct:function(t){this.view=!0,console.log(this.view),this.productDialog=!0,this.product=t,this.product.hasSize||this.$set(this.product,"size",{height:0,width:0,rate:0})},save:function(){var t=this;if(this.$refs.form.validate()){var e=this.categoryList.filter(function(e){return e._id==t.product.category_id});console.log(e[0]),console.log(this.product.category_id),this.product.catCode=e[0].code,d.a.post(P+"/api/v1/product",this.product).then(function(e){e.data.token;t.snackbarMessage="Product Succesfuly Created",t.snackbarColor="green",t.snackbar=!0,t.getAllProduct(),t.product={size:{height:0,width:0,rate:0}}}).catch(function(e){e.response.data;t.snackbar=!0,t.snackbarMessage="Duplicate Entry or something went wrong",t.snackbarColor="error"})}},getCategory:function(){var t=this;d.a.get(P+"/api/v1/category",{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.categoryList=a,console.log(a)})},update:function(t){var e=this,a=this.categoryList.filter(function(t){return t._id==e.product.category_id});this.product.catCode=a[0].code,d.a.put(P+"/api/v1/product",this.product,{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;console.log(a),e.productDialog=!1,e.snackbarMessage="Product Succesfuly Updated",e.snackbarColor="green",e.snackbar=!0,e.getAllProduct()})},deleteProduct:function(){var t=this;d.a.put(P+"/api/v1/product/delete",this.deletingProduct,{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return console.log(a),t.deleteDialog=!1,t.getAllProduct()})},deleteCategory:function(t){var e=this;d.a.put(P+"/api/v1/category/delete",t,{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(){return e.getCategory()}).catch(function(t){var a=t.response.data;e.snackbar=!0,e.snackbarMessage=a.message,e.snackbarColor="error"})},addCategory:function(){var t=this;d.a.post(P+"/api/v1/category",this.category).then(function(e){e.data.token;t.getCategory(),t.dailog=!1,console.log(data)}).catch(function(e){e.response.data;t.categoryResult.status=!0,t.categoryResult.error="Duplicate Entry"})},roundToTwo:function(t){return+(Math.round(t+"e+2")+"e-2")}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",[a("app-header"),t._v(" "),a("v-snackbar",{attrs:{color:t.snackbarColor,top:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.snackbarMessage)+"\n      "),a("v-btn",{attrs:{color:"white",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n        Close\n      ")])],1),t._v(" "),a("v-container",[a("v-dialog",{attrs:{dark:"",fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:t.productDialog,callback:function(e){t.productDialog=e},expression:"productDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.productDialog=!1}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("Product")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[t.product._id?t._e():a("v-btn",{attrs:{dark:"",flat:"",disabled:t.view},nativeOn:{click:function(e){t.save()}}},[t._v("Save")]),t._v(" "),t.product._id?a("v-btn",{attrs:{dark:"",flat:"",disabled:t.view},nativeOn:{click:function(e){t.update()}}},[t._v("Update")]):t._e()],1)],1),t._v(" "),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline "},[t._v("Product")])]),t._v(" "),a("v-card-text",[a("v-alert",{attrs:{value:t.productResult.status,type:t.productResult.type}},[t._v(t._s(t.productResult.message)+"\n              ")]),t._v(" "),a("v-container",{attrs:{"grid-list-md":""}},[a("v-form",{ref:"form",attrs:{"lazy-validation":"true"},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[t.productDialog?a("v-text-field",{attrs:{label:"Product Name ",tabindex:"1",autofocus:"",readonly:t.view,rules:[t.rules.required]},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}}):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs9:"",sm6:"",md3:""}},[a("v-autocomplete",{attrs:{tabindex:"2",readonly:t.view,rules:[t.rules.required],items:t.categoryList,"max-height":"500",chips:"",label:"Category","item-text":"name","item-value":"_id"},scopedSlots:t._u([{key:"selection",fn:function(e){var r=e.item;return e.index,[a("v-chip",[a("span",[t._v(t._s(r.code))])])]}},{key:"item",fn:function(e){return["object"!=typeof e.item?[a("v-list-tile-content",{domProps:{textContent:t._s(e.item)}})]:[a("v-list-tile-avatar",{staticClass:"dropdown_avatar"},[a("span",{staticClass:"red--text"},[t._v(" "+t._s(e.item.name.charAt(0).toUpperCase()))])]),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.name)}}),t._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.item.code)}})],1)]]}}]),model:{value:t.product.category_id,callback:function(e){t.$set(t.product,"category_id",e)},expression:"product.category_id"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:"",sm3:"",md1:""}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",tabindex:"-1",disabled:t.view,color:"indigo"},nativeOn:{click:function(e){t.dialog=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Product Code ",tabindex:"3",readonly:t.view,rules:[t.rules.required]},model:{value:t.product.code,callback:function(e){t.$set(t.product,"code",e)},expression:"product.code"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Product Description",tabindex:"4",readonly:t.view,rules:[t.rules.required]},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-checkbox",{attrs:{label:"Has Dimentions",tabindex:"5",readonly:t.view},model:{value:t.product.hasSize,callback:function(e){t.$set(t.product,"hasSize",e)},expression:"product.hasSize"}})],1),t._v(" "),t.product.hasSize?a("div",{staticStyle:{display:"flex"}},[a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{label:"Height",tabindex:"6",rules:[t.rules.required],readonly:t.view,type:"number",min:"0",required:""},model:{value:t.product.size.height,callback:function(e){t.$set(t.product.size,"height",e)},expression:"product.size.height"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{label:"Width",tabindex:"7",rules:[t.rules.required],readonly:t.view,type:"number",min:"0",required:""},model:{value:t.product.size.width,callback:function(e){t.$set(t.product.size,"width",e)},expression:"product.size.width"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{label:"Unit Rate",tabindex:"8",readonly:t.view,rules:[t.rules.required],type:"number",min:"0",required:""},model:{value:t.product.size.rate,callback:function(e){t.$set(t.product.size,"rate",e)},expression:"product.size.rate"}})],1)],1):t._e(),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-flex",{attrs:{md3:""}},[a("v-text-field",{attrs:{label:"Product Price",tabindex:"9",readonly:t.view||t.product.hasSize,rules:[t.rules.required],type:"number",min:"0",required:""},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1)],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",tabindex:"10",flat:""},nativeOn:{click:function(e){t.productDialog=!1}}},[t._v("Close")]),t._v(" "),t.product._id?t._e():a("v-btn",{attrs:{color:"blue darken-1",tabindex:"11",dark:"",flat:""},nativeOn:{click:function(e){t.save()}}},[t._v("Save")])],1)],1),t._v(" "),a("v-divider")],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Category")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")])],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md5:""}},[a("v-text-field",{attrs:{label:"Category Name*",required:""},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md4:""}},[a("v-text-field",{attrs:{label:"Category Code"},model:{value:t.category.code,callback:function(e){t.$set(t.category,"code",e)},expression:"category.code"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md3:""}},[a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.addCategory()}}},[t._v("Save")])],1),t._v(" "),a("v-alert",{attrs:{value:t.categoryResult.status,type:"error"}},[t._v(t._s(t.categoryResult.error)+"\n                ")])],1)],1)],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.catHeaders,items:t.categoryList,"item-key":"name",search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.code))]),t._v(" "),a("td",{staticClass:"text-xs-center"},["admin"==t.role?a("span",[a("v-btn",{attrs:{outline:"",fab:"",small:"",color:"indigo"},on:{click:function(a){t.deleteCategory(e.item)}}},[a("v-icon",[t._v("remove")])],1)],1):t._e()])]}}])})],1)],1),t._v(" "),"admin"==t.role?a("v-btn",{attrs:{color:"indigo",fab:"",dark:"",absolute:"",top:"",left:""},on:{click:function(e){t.create()}}},[a("v-icon",{attrs:{dark:""}},[t._v("group_add")])],1):t._e(),t._v(" "),a("v-card-title",[a("span",{staticClass:"heading"},[t._v(" Product")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.productList,"item-key":"name",loading:t.productLoading,search:t.search,"rows-per-page-items":t.pageSetup},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.code))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.catCode))]),t._v(" "),a("td",[t._v(t._s(e.item.description))]),t._v(" "),a("td",[t._v(t._s(e.item.price))]),t._v(" "),a("td",{staticClass:"text-xs-center"},["admin"==t.role?a("span",[a("v-btn",{attrs:{outline:"",fab:"",small:"",color:"white"},on:{click:function(a){t.editProduct(e.item)}}},[a("v-icon",[t._v("edit")])],1),t._v(" "),a("v-btn",{attrs:{outline:"",fab:"",small:"",color:"white"},on:{click:function(a){t.deleteConfirm(e.item)}}},[a("v-icon",[t._v("remove")])],1)],1):t._e(),t._v(" "),a("v-btn",{attrs:{outline:"",fab:"",small:"",color:"white"},on:{click:function(a){t.viewProduct(e.item)}}},[a("v-icon",[t._v("visibility")])],1)],1)]}}])})],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"330"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Delete Product")]),t._v(" "),a("v-card-text",[t._v("\n          Are you sure you want to delete this Poduct ?\n        ")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.deleteDialog=!1}}},[t._v("\n            No\n          ")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.deleteProduct()}}},[t._v("\n            Yes\n          ")])],1)],1)],1),t._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]};var S=a("VU/8")(O,j,!1,function(t){a("/vmN")},null,null).exports,z=a("mvHQ"),q=a.n(z),L=a("PJh5"),T=a.n(L),$=a("QSfm"),U=a.n($),M=u.a.API_URL,R={data:function(){var t=this;return{validated:1,addNew:!1,search:"",validPay:!0,valid:!0,orderInfo:!1,snackbar:!1,snackbarMessage:"",snackbarColor:"green",processing:!1,payment:{amount:0,mode:"Cash"},pageSetup:[20,30,40,{text:"$vuetify.dataIterator.rowsPerPageAll",value:-1}],createOrderDialog:!1,loginPage:!1,employe:{},productList:[],needSetup:!0,orderList:[],orderLoading:!0,view:!1,deleteDialog:!1,role:this.$cookie.get("role"),paymentDialog:!1,paymentEnabled:!0,paymentDisabled:!1,setDeleteOrder:{},pagination:{sortBy:"order_no",descending:!1},productMap:[],printDialog:!1,statusItem:[{text:"pending",disabled:!1},{text:"ready",disabled:!0},{text:"delivered",disabled:!0}],paymentType:["Cash","Card","Cheque"],paymentHeaders:[{text:"Date",align:"center",value:"payment_date",sortable:!1},{text:"Time",align:"center",value:"payment_date",sortable:!1},{text:"Amount",align:"center",value:"amout",sortable:!1},{text:"Mode",align:"center",value:"Mode",sortable:!1}],headers:[{text:"Order No",align:"center",value:"order_no",sortable:!1},{text:"Customer Name",align:"center",value:"name"},{text:"Grand Total",align:"center",value:"grand_total"},{text:"Order Date",align:"center",value:"order_date"},{text:"Deleivery Date",align:"center",value:"deleiver_date"},{text:"Status",align:"center",value:"status"},{text:"Action",align:"center",value:"action"}],order:{total:0,taxAmt:0,tax:0,paid_amount:0,status:"pending",paymentDetails:[],grand_total:0,discount:0,discount_amt:0,items:0,orderDetails:[{product_id:"",qty:1,size:{},price:0,index:0}]},rules:{required:function(t){return!!t||"Required."},validateNum:function(t){return!isNaN(t)||"Number Required."},counter:function(t){return t.length<=20||"Max 20 characters"},checkAmount:function(e){return-1<parseInt(t.order.balance)||"more then balance"},checkDiscount:function(e){return-1<parseInt(t.order.net_payable)||"Cannot provide more discount"},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}},numberRule:[function(t){return!isNaN(num1)||"number is required"}],menu:!1,orderDetailHeader:[{text:"Product",value:"product",sortable:!1},{text:"Size ",value:"size",sortable:!1},{text:"Rate",sortable:!1,value:"rate"},{text:"Price",sortable:!1,value:"price"},{text:"Qty",sortable:!1,value:"qty"},{text:"Amount",sortable:!1,value:"amount"},{text:"Remove",sortable:!1,value:"Remove"}]}},mounted:function(){this.getAllProduct(),this.getAllOrder()},computed:{payeble:function(){return this.order.grand_total-this.order.paid_amount},validPayent:function(){return this.paymentDisabled||!this.validPay||this.payment.amount<=0},isStatusReadOnly:function(){return this.view&&"delivered"==this.order.status||this.addNew&&"delivered"==this.order.status}},watch:{"order.grand_total":function(t){var e=this.order.grand_total-parseFloat(this.order.paid_amount);this.order.net_payable=Math.round(e),this.order.roundOff=this.roundToTwo(this.order.net_payable-e)},createOrderDialog:function(t){this.calculateTotalItem()},"order.paid_amount":function(t){var e=this.order.grand_total-this.order.paid_amount;this.order.net_payable=Math.round(e),this.order.roundOff=this.roundToTwo(this.order.net_payable-e)}},methods:{reset:function(){this.$refs.form.reset()},saveDate:function(t){this.$refs.menu.save(t),console.log(this.$refs.status),this.$refs.status.focus()},setDefaut:function(){this.order={total:0,taxAmt:0,tax:0,discount:0,discount_amt:0,test:0,paid_amount:0,status:"pending",delivery_date:(new Date).toISOString().substr(0,10),paymentDetails:[],grand_total:0,orderDetails:[{product_id:"",hasSize:!1,qty:1,size:{},price:0,index:0}]}},addOrder:function(){this.setDefaut(),this.createOrderDialog=!0,this.statusItem[1].disabled=!0,this.view=!1,this.addNew=!0;var t=this;setTimeout(function(){t.$refs.customer_name.focus()},1)},save:function(){var t=this;console.log(this.$refs.form),this.$refs.form.validate()&&(this.processing=!0,this.order.created_user=this.$cookie.get("username"),d.a.post(M+"/api/v1/order",{order:this.order}).then(function(e){var a=e.data;console.log(a),t.order=a.data,t.order.delivery_date=t.order.delivery_date?T()(new U.a(t.order.delivery_date)).format("YYYY-MM-DD"):"",t.calculateBalance(),t.getAllOrder(),t.processing=!1,t.snackbarMessage="Order Succesfuly Created",t.snackbarColor="green",t.snackbar=!0,t.calculatePaidAmt(),t.calculateBalance(),t.calculateTotalItem(),t.statusItem[1].disabled=!1,t.view=!0,t.orderInfo=!0;var r=t.order.grand_total-t.order.paid_amount;t.order.net_payable=Math.round(r),t.order.roundOff=t.roundToTwo(t.order.net_payable-r)}).catch(function(t){t.response.data}))},calculateTotalItem:function(){console.log("test 1111");var t=0;console.log(this.order.orderDetails),this.order.orderDetails.forEach(function(e){t+=1}),this.order.items=t},setup:function(){this.order.created_user=this.$cookie.get("username"),d.a.post(M+"/api/v1/setup/ordercounter",{order:this.order}).then(function(t){t.data.token}).catch(function(t){t.response.data})},activeProduct:function(t){if(console.log("test",t.productId),t.productId){var e=this.productList.find(function(e){return e._id==t.productId});t.hasSize=!!e.hasSize&&e.hasSize,this.$set(t,"size",{}),t.productName=e.name,t.size.height=e.hasSize?e.size.height:"",t.size.width=e.hasSize?e.size.width:"",t.rate=e.hasSize?e.size.rate:"",t.price=e.price,t.amt=parseFloat(t.qty)*parseFloat(t.price),this.calculateTotal()}},addItem:function(){this.order.orderDetails.push({product_id:"",qty:1,size:{},price:0})},removeItem:function(t){this.order.orderDetails.splice(t,1),this.calculateTotal()},calculateAmount:function(t){if(console.log({item:t}),t.hasSize){var e=parseFloat(t.rate);t.price=this.roundToTwo(parseFloat(t.size.height)*parseFloat(t.size.width)*e),console.log(t,e)}t.amt=parseFloat(t.qty)*parseFloat(t.price),console.log(this.order.orderDetails),this.calculateTotal()},calculateTotal:function(){var t=0,e=0;this.order.orderDetails.forEach(function(a){e+=1,t=a.amt?t+a.amt:t}),this.order.items=e,this.order.total=t,this.calculateTax()},calculateTax:function(){this.order.taxAmt=this.roundToTwo(this.order.tax*(this.order.total-this.order.discount_amt)/100),this.order.grand_total=this.roundToTwo(this.order.total-this.order.discount_amt+this.order.taxAmt)},calculateDiscount:function(t){this.calculateTax()},discountedAmt:function(){return this.roundToTwo(this.order.total-this.order.discount_amt)},getAllOrder:function(t){var e=this;this.orderLoading=!0,d.a.get(M+"/api/v1/order",{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.orderList=a,e.needSetup=!(a.length>0),e.orderLoading=!1,console.log(a)})},getAllProduct:function(t){var e=this;d.a.get(M+"/api/v1/product",{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.productList=a,e.productList.map(function(t){return t.customName=t.name+"("+t.code+")",t}),e.productLoading=!1,a.forEach(function(t){e.productMap[t._id]=t}),console.log(a)})},update:function(t){var e=this;this.$refs.form.validate()&&(this.processing=!0,d.a.put(M+"/api/v1/order",{order:this.order},{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;console.log(a),e.order=a,e.order.delivery_date=e.order.delivery_date?T()(new U.a(e.order.delivery_date)).format("YYYY-MM-DD"):"",e.calculateBalance(),e.getAllOrder(),e.processing=!1,e.snackbarMessage="Order Succesfuly Updated",e.snackbarColor="green",e.snackbar=!0,e.calculatePaidAmt(),e.calculateBalance(),e.calculateTotalItem(),e.statusItem[1].disabled=!1,e.view=!1;var r=e.order.grand_total-e.order.paid_amount;e.order.net_payable=Math.round(r),e.order.roundOff=e.roundToTwo(e.order.net_payable-r)}))},confirmDeleteOrder:function(t){this.setDeleteOrder=t._id,this.deleteDialog=!0},deleteOrder:function(){var t=this;d.a.put(M+"/api/v1/order/delete",{_id:this.setDeleteOrder},{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return console.log(a),t.deleteDialog=!1,t.getAllOrder()})},formateDate:function(t){return t?T()(new U.a(t)).format("YYYY-MM-DD"):""},editOrder:function(t){this.createOrderDialog=!0,this.order=JSON.parse(q()(t)),this.order.discount_amt=this.order.discount_amt?this.order.discount_amt:0,this.order.delivery_date=this.order.delivery_date?T()(new U.a(this.order.delivery_date)).format("YYYY-MM-DD"):"",this.calculatePaidAmt(),this.calculateBalance(),this.statusItem[1].disabled=!1,this.view=!1,this.addNew=!1;var e=this.order.grand_total-this.order.paid_amount;this.order.net_payable=Math.round(e),this.order.roundOff=this.roundToTwo(this.order.net_payable-e)},viewOrder:function(t){this.order={},this.createOrderDialog=!0,console.log({order:t}),this.order=JSON.parse(q()(t)),this.order.discount_amt=this.order.discount_amt?this.order.discount_amt:0,this.order.delivery_date=this.order.delivery_date?T()(new U.a(this.order.delivery_date)).format("YYYY-MM-DD"):"",this.calculatePaidAmt(),this.calculateBalance(),this.statusItem[1].disabled=!1,this.view=!0},pay:function(){var t=this.order.order_date?T()(new U.a(this.order.order_date)).format("YYYY-MM-DD"):(new Date).toISOString().substr(0,10);this.calculatePaidAmt(),console.log(this.order);var e=this.getBalance(),a=0==e&&"ready"==this.order.status,r=0!=e,o=this.order.delivery_date==t;console.log("check1 "+(0==this.order.paymentDetails.length&&(a||r||o))),console.log(this.order.paymentDetails.length>0&&"ready"==this.order.status&&0==e),0==this.order.paymentDetails.length&&(a||r||o)||this.order.paymentDetails.length>0&&"ready"==this.order.status&&0==e?(this.order.paymentDetails.push(this.payment),this.payment={amount:0,mode:"Cash"},this.calculatePaidAmt(),this.order.net_payable=this.order.net_payable-this.order.paid_amount,this.calculateBalance(),console.log(this.order.balance),0==this.order.balance&&(this.order.status="delivered",this.order.delivery_date=(new Date).toISOString().substr(0,10)),this.saveOrUpdate()):(this.snackbarMessage="Order should be in Ready State",this.snackbarColor="red",this.snackbar=!0)},saveOrUpdate:function(){this.order._id?this.update():this.save(),this.paymentDialog=!1,this.checkFinalPayment()},roundToTwo:function(t){return+(Math.round(t+"e+2")+"e-2")},calculatePaidAmt:function(){var t=0;console.log(this.order.paymentDetails),this.order.paymentDetails&&this.order.paymentDetails.forEach(function(e){t+=parseFloat(e.amount)||0,console.log({count:t})}),console.log(t),this.order.paid_amount=t},calculateBalance:function(){this.order.balance=this.order.grand_total+(parseFloat(this.order.roundOff)||0)-((parseFloat(this.order.paid_amount)||0)+(parseFloat(this.payment.amount)||0)),console.log(parseFloat(this.order.paid_amount)+"+"+parseFloat(this.payment.amount))},getBalance:function(){return this.order.grand_total+(parseFloat(this.order.roundOff)||0)-((parseFloat(this.order.paid_amount)||0)+(parseFloat(this.payment.amount)||0))},checkFinalPayment:function(){this.order.paymentDetails.length>0?(this.paymentEnabled=!1,this.payment.amount=this.order.balance):(this.paymentEnabled=!0,this.payment.amount=0),this.order.balance<=0?this.paymentDisabled=!0:this.paymentDisabled=!1},formateTime:function(t){return t?T()(t).format("hh:mm A"):""},printElem:function(){var t=document.getElementById("printArea").innerHTML,e=window.open("","Print","height=600,width=800");return e.document.write("<html><head><title>Print</title><style>.recipt{width:80mm;}.recipt .header td{text-align:center} .trim{display: inline-block;max-width: 80px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;} .position{ position:relative;top:-4}</style>"),e.document.write("</head><body >"),e.document.write(t),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print(),e.close(),!0}}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",[a("app-header"),t._v(" "),a("v-snackbar",{attrs:{color:t.snackbarColor,top:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n      "+t._s(t.snackbarMessage)+"\n      "),a("v-btn",{attrs:{color:"white",flat:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n        Close\n      ")])],1),t._v(" "),a("v-container",[a("v-dialog",{attrs:{dark:"",lazy:!0,fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:t.createOrderDialog,callback:function(e){t.createOrderDialog=e},expression:"createOrderDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.createOrderDialog=!1,t.reset()}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("Add Order")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[t.order._id?t._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.save()}}},[t._v("Save")]),t._v(" "),t.needSetup?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.setup()}}},[t._v("setup")]):t._e(),t._v(" "),t.order._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.update()}}},[t._v("Update")]):t._e(),t._v(" "),t.order._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.printElem()}}},[t._v("Print")]):t._e()],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[a("v-text-field",{staticClass:"order_no",attrs:{label:"Order No",disabled:""},model:{value:t.order.order_no,callback:function(e){t.$set(t.order,"order_no",e)},expression:"order.order_no"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[t.createOrderDialog?a("v-text-field",{ref:"customer_name",attrs:{label:"Customer Name ",required:"",rules:[t.rules.required],readonly:t.view,autofocus:""},model:{value:t.order.customer_name,callback:function(e){t.$set(t.order,"customer_name",e)},expression:"order.customer_name"}}):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md2:""}},[a("v-text-field",{attrs:{label:"Customer Phone No ",required:"",rules:[t.rules.required],readonly:t.view},model:{value:t.order.customer_tel,callback:function(e){t.$set(t.order,"customer_tel",e)},expression:"order.customer_tel"}})],1),t._v(" "),a("v-flex",{attrs:{xs9:"",sm6:"",md3:""}},[a("v-menu",{ref:"menu",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":t.order.delivery_date},on:{"update:returnValue":function(e){t.$set(t.order,"delivery_date",e)}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Date Of Delivery",required:"","prepend-icon":"event",readonly:!0},slot:"activator",model:{value:t.order.delivery_date,callback:function(e){t.$set(t.order,"delivery_date",e)},expression:"order.delivery_date"}}),t._v(" "),a("v-date-picker",{attrs:{required:"",rules:[t.rules.required],readonly:t.view,"no-title":"",scrollable:""},on:{change:t.saveDate},model:{value:t.order.delivery_date,callback:function(e){t.$set(t.order,"delivery_date",e)},expression:"order.delivery_date"}})],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-select",{ref:"status",attrs:{items:t.statusItem,readonly:t.isStatusReadOnly,required:"",label:"Status",rules:[t.rules.required]},model:{value:t.order.status,callback:function(e){t.$set(t.order,"status",e)},expression:"order.status"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-data-table",{staticClass:"elevation-1 order",attrs:{"hide-actions":"",headers:t.orderDetailHeader,items:t.order.orderDetails,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[e.item._id?t._e():a("v-select",{ref:"prod",staticClass:"productSelect",attrs:{autofocus:"",required:"",items:t.productList,rules:[t.rules.required],"item-value":"_id","item-text":"customName",autocomplete:"","single-line":"",readonly:t.view},on:{input:function(a){t.activeProduct(e.item)}},model:{value:e.item.productId,callback:function(a){t.$set(e.item,"productId",a)},expression:"props.item.productId"}}),t._v(" "),e.item._id?a("v-text-field",{attrs:{readonly:!0},model:{value:e.item.productName,callback:function(a){t.$set(e.item,"productName",a)},expression:"props.item.productName"}}):t._e()],1),t._v(" "),a("td",[e.item.hasSize?a("div",{staticStyle:{display:"inline-flex","max-width":"200px"},attrs:{calss:"xs4 sm4 md6"}},[a("v-flex",{attrs:{xs4:"",sm4:"",md6:""}},[a("v-text-field",{attrs:{type:"number",min:"0",rules:[t.rules.required],readonly:t.view},on:{input:function(a){t.calculateAmount(e.item)}},model:{value:e.item.size.height,callback:function(a){t.$set(e.item.size,"height",a)},expression:"props.item.size.height"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm4:"",md6:""}},[a("v-text-field",{attrs:{type:"number",min:"0",rules:[t.rules.required,t.rules.validateNum],readonly:t.view},on:{input:function(a){t.calculateAmount(e.item)}},model:{value:e.item.size.width,callback:function(a){t.$set(e.item.size,"width",a)},expression:"props.item.size.width"}})],1)],1):t._e()]),t._v(" "),a("td",[e.item.hasSize?a("v-text-field",{attrs:{readonly:!0,tabindex:"-1"},on:{input:function(a){t.calculateAmount(e.item)}},model:{value:e.item.rate,callback:function(a){t.$set(e.item,"rate",a)},expression:"props.item.rate"}}):t._e()],1),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{readonly:!0,tabindex:"-1",min:"0",type:"number"},on:{input:function(a){t.calculateAmount(e.item)}},model:{value:e.item.price,callback:function(a){t.$set(e.item,"price",a)},expression:"props.item.price"}})],1),t._v(" "),a("td",[a("v-text-field",{attrs:{readonly:t.view,min:"0",type:"number"},on:{input:function(a){t.calculateAmount(e.item)}},model:{value:e.item.qty,callback:function(a){t.$set(e.item,"qty",a)},expression:"props.item.qty"}})],1),t._v(" "),a("td",[a("v-text-field",{attrs:{readonly:t.view},model:{value:e.item.amt,callback:function(a){t.$set(e.item,"amt",a)},expression:"props.item.amt"}})],1),t._v(" "),a("td",[a("v-btn",{attrs:{fab:"",disabled:t.view,color:"indigo",small:""},nativeOn:{click:function(a){t.removeItem(e.index)}}},[a("v-icon",[t._v("delete")])],1)],1)]}}])},[a("template",{slot:"footer"},[a("tr",[a("td",[a("v-btn",{attrs:{fab:"",disabled:t.view,color:"indigo",dark:"",small:"",top:""},nativeOn:{click:function(e){t.addItem()}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),t._v(" "),a("td",{staticClass:"text-xs-right",attrs:{colspan:"4"}},[a("strong",[t._v("Items")])]),t._v(" "),a("td",{staticClass:"text-xs-right",attrs:{colspan:"1"}},[t._v(t._s(t.order.items))])]),t._v(" "),a("tr",[a("td",{staticClass:"text-xs-right",attrs:{colspan:"5"}},[a("strong",[t._v(" Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.total))])]),t._v(" "),a("tr",[a("td",{staticClass:"text-xs-right",attrs:{colspan:"4"}},[a("strong",[t._v("Discount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[a("v-text-field",{attrs:{readonly:t.isStatusReadOnly,min:"0",type:"number"},on:{input:t.calculateDiscount},model:{value:t.order.discount_amt,callback:function(e){t.$set(t.order,"discount_amt",e)},expression:"order.discount_amt"}})],1),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.discountedAmt()))])]),t._v(" "),a("tr",[a("td",{staticClass:"text-xs-right",attrs:{colspan:"4"}},[a("strong",[t._v("Tax %")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[a("v-text-field",{attrs:{readonly:t.isStatusReadOnly,min:"0",type:"number"},on:{input:function(e){t.calculateTax()}},model:{value:t.order.tax,callback:function(e){t.$set(t.order,"tax",e)},expression:"order.tax"}})],1),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.taxAmt))])]),t._v(" "),a("tr",[a("td",{staticClass:"text-xs-right",attrs:{colspan:"5"}},[a("strong",[t._v("Total Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.grand_total))])]),t._v(" "),a("tr",[a("td",{staticClass:"text-xs-right",attrs:{colspan:"5"}},[a("strong",[t._v("Paid Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.paid_amount))])]),t._v(" "),a("tr",[a("td",{staticClass:"text-xs-right",attrs:{colspan:"5"}},[a("strong",[t._v("Rounding Off")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.roundOff))])]),t._v(" "),a("tr",[a("td",[a("v-btn",{attrs:{color:"indigo",disabled:!t.valid,indigo:"",dark:"",small:""},nativeOn:{click:function(e){t.paymentDialog=!0,t.payment.amount=0,t.calculateBalance(),t.checkFinalPayment()}}},[t._v("\n                              Payement\n                            ")])],1),t._v(" "),a("td",{staticClass:"text-xs-right",attrs:{colspan:"4"}},[a("strong",[t._v("Payeble Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.net_payable))])])])],2)],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.paymentDialog,callback:function(e){t.paymentDialog=e},expression:"paymentDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Payment")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.paymentDialog=!1}}},[t._v("Close")])],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-form",{ref:"paymentForm",model:{value:t.validPay,callback:function(e){t.validPay=e},expression:"validPay"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[t.paymentDialog?a("v-text-field",{attrs:{label:"Amount*",type:"number",min:"0",required:"",rules:[t.rules.validateNum,t.rules.checkAmount],autofocus:"",readonly:!t.paymentEnabled},on:{input:function(e){t.calculateBalance()}},model:{value:t.payment.amount,callback:function(e){t.$set(t.payment,"amount",e)},expression:"payment.amount"}}):t._e()],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[a("v-text-field",{attrs:{label:"Amount Paid ",disabled:"",required:"",rules:[t.rules.validateNum]},on:{input:function(e){t.calculateBalance()}},model:{value:t.order.paid_amount,callback:function(e){t.$set(t.order,"paid_amount",e)},expression:"order.paid_amount"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.paymentType,label:"Payment Mode"},model:{value:t.payment.mode,callback:function(e){t.$set(t.payment,"mode",e)},expression:"payment.mode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[a("v-text-field",{attrs:{label:"Balance*",disabled:"",required:""},model:{value:t.order.balance,callback:function(e){t.$set(t.order,"balance",e)},expression:"order.balance"}})],1)],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.paymentDialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:"",disabled:t.validPayent},nativeOn:{click:function(e){t.pay()}}},[t._v("Pay")])],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.paymentHeaders,items:t.order.paymentDetails,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(t.formateDate(e.item.payment_date)))]),t._v(" "),a("td",[t._v(t._s(t.formateTime(e.item.payment_date)))]),t._v(" "),a("td",[t._v(t._s(e.item.amount))]),t._v(" "),a("td",[t._v(t._s(e.item.mode))])]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{display:"none"}},[a("div",{attrs:{id:"printArea"}},[a("div",{staticClass:"recipt",attrs:{id:"recipt"}},[a("table",{staticClass:"header",staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("td",{attrs:{colspan:"4"}},[t._v(" LORENZ & SON")])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"4"}},[t._v(" BEHIND MUNCIPAL BLDG")])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"4"}},[t._v(" MARGAO - 40601 GOA PH:732892")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"4"}})])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"4"}},["delivered"==t.order.status?a("span",[t._v(" Invoice Copy")]):a("span",[t._v("Job Order")])])]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"4"}})]),t._v(" "),a("tr",[a("td",[t._v("Order No")]),t._v(" "),a("td",[t._v(" "+t._s(t.order.order_no))]),t._v(" "),a("td",[t._v("Order Date")]),t._v(" "),a("td",[t._v(t._s(t.formateDate(t.order.order_date)))])]),t._v(" "),a("tr",[a("td",[t._v("Customer Name")]),t._v(" "),a("td",[t._v(t._s(t.order.customer_name))]),t._v(" "),a("td",["delivered"==t.order.status?a("span",[t._v(" Delivered Date")]):a("span",[t._v("Delivery Date")])]),t._v(" "),a("td",[t._v(t._s(t.order.delivery_date))])]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"4"}})])]),t._v(" "),a("table",{staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("td",[t._v(" Sr ")]),t._v(" "),a("td",[t._v("Product")]),t._v(" "),a("td",[t._v(" Qty ")]),t._v(" "),a("td",[t._v(" Amount")])])]),t._v(" "),a("tbody",[a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"100"}}),t._v(" "),t._l(t.order.orderDetails,function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(r+1))]),t._v(" "),a("td",[a("span",[t._v(t._s(e.productName))]),t._v(" "),e.hasSize?a("span",[t._v(" "+t._s(e.size.height)+" *  "+t._s(e.size.width))]):t._e()]),t._v(" "),a("td",[t._v(t._s(e.qty))]),t._v(" "),a("td",[t._v(t._s(e.amt))])])}),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"4"}})],2),t._v(" "),a("tfoot",[a("tr",[a("td",{staticStyle:{"top-border":"1px solid"},attrs:{colspan:"4"}})]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("Items")]),t._v(" "),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.order.items))])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("Amount")]),t._v(" "),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.order.total))])]),t._v(" "),t.order.discount_amt>0?a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("\n                  Discount\n                ")]),t._v(" "),a("td",[t._v(t._s(t.order.discount_amt))])]):t._e(),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("\n                  Tax\n                ")]),t._v(" "),a("td",[t._v(t._s(t.order.taxAmt))])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("strong",[t._v("Total Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.grand_total))])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("strong",[t._v("Paid Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.paid_amount))])]),t._v(" "),a("tr",[a("td",{staticClass:"text-xs-right",attrs:{colspan:"3"}},[a("strong",[t._v("Rounding Off")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.roundOff))])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("strong",[t._v("Payable Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.net_payable))])]),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"8"}})])]),t._v(" "),a("small",[t._v("Prepared By : "+t._s(t.order.created_user))])])])]),t._v(" "),a("v-btn",{attrs:{color:"indigo",fab:"",dark:"",absolute:"",top:"",left:""},nativeOn:{click:function(e){t.addOrder()}}},[a("v-icon",{attrs:{dark:""}},[t._v("group_add")])],1),t._v(" "),a("v-card-title",[a("span",{staticClass:"heading"},[t._v("Order")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1 order-table",attrs:{headers:t.headers,search:t.search,items:t.orderList,"item-key":"name","rows-per-page-items":t.pageSetup,loading:t.orderLoading},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.order_no))]),t._v(" "),a("td",[t._v(t._s(e.item.customer_name))]),t._v(" "),a("td",[t._v(t._s(e.item.grand_total))]),t._v(" "),a("td",[t._v(t._s(t.formateDate(e.item.order_date)))]),t._v(" "),a("td",[t._v(t._s(t.formateDate(e.item.delivery_date)))]),t._v(" "),a("td",[a("v-chip",{attrs:{color:"primary","text-color":"white"}},[t._v(t._s(e.item.status))])],1),t._v(" "),a("td",{staticClass:"text-xs-center"},["admin"==t.role?a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"white"},on:{click:function(a){t.editOrder(e.item)}}},[a("v-icon",[t._v("edit")])],1):t._e(),t._v(" "),a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"white"},on:{click:function(a){t.viewOrder(e.item)}}},[a("v-icon",[t._v("visibility")])],1),t._v(" "),"admin"==t.role?a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"white"},on:{click:function(a){t.confirmDeleteOrder(e.item)}}},[a("v-icon",[t._v("remove")])],1):t._e()],1)]}}])}),t._v(" "),a("v-dialog",{attrs:{dark:"","max-width":"330"},model:{value:t.deleteDialog,callback:function(e){t.deleteDialog=e},expression:"deleteDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Delete Order")]),t._v(" "),a("v-card-text",[t._v("\n            Are you sure you want to delete this Order ?\n          ")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.deleteDialog=!1}}},[t._v("\n              No\n            ")]),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.deleteOrder()}}},[t._v("\n              Yes\n            ")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.processing,callback:function(e){t.processing=e},expression:"processing"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n            Please wait\n            "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.orderInfo,callback:function(e){t.orderInfo=e},expression:"orderInfo"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Order No ")]),t._v(" "),a("v-card-text",[a("h1",{staticStyle:{"font-size":"140px"}},[t._v(t._s(t.order.order_no))])]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"green darken-1",flat:"flat"},on:{click:function(e){t.orderInfo=!1}}},[t._v("\n                close\n              ")])],1)],1)],1)],1),t._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]};var I=a("VU/8")(R,E,!1,function(t){a("BsTn")},null,null).exports,N=a("+k2h"),F=a.n(N),H=u.a.API_URL,V={data:function(){return{validated:1,search:"",loginPage:!1,orderList:[],status:"all",menu:!1,endDatePicker:!1,footerData:{totalAmt:0,totalPaid:0,balance:0},endDate:"",statusItem:["all","pending","ready","delivered"],headers:[{text:"Order No",align:"center",value:"order_no",sortable:!1},{text:"Order Date",align:"center",value:"order_date"},{text:"Status",value:"status"},{text:"Customer Name",value:"customer_name"},{text:"Total Item",align:"center",value:"customer_name"},{text:"Net Total",align:"center",value:"grand_total"},{text:"Paid Amount",align:"center",value:"status"},{text:"Balance Amount",align:"center",value:"status"},{text:"Deleivery Date",align:"center",value:"deleiver_date"}]}},mounted:function(){this.getAllOrder()},methods:{getAllOrder:function(t){var e=this;this.orderLoading=!0,d.a.get(H+"/api/v1/orderReports",{headers:{Authorization:m.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.orderList=e.formateData(a),e.needSetup=!(a.length>0),e.orderLoading=!1,console.log(a)})},searchOrder:function(t){var e=this;this.orderLoading=!0,d.a.get(H+"/api/v1/orderReports",{headers:{Authorization:m.getAuthenticationHeader(this)},params:{startDate:this.startDate,endDate:this.endDate,status:this.status}}).then(function(t){var a=t.data;return e.orderList=e.formateData(a),e.needSetup=!(a.length>0),e.orderLoading=!1,console.log(a)})},formateDate:function(t){return t?T()(new U.a(t)).format("YYYY-MM-DD"):""},formateData:function(t){var e=this;return this.footerData={totalAmt:0,totalPaid:0,balance:0,count:0},t.forEach(function(t){t.order_date=e.formateDate(t.order_date),t.delivery_date=e.formateDate(t.delivery_date),t.grand_total=Math.round(t.grand_total),t.balance=t.grand_total-t.paid_amount,t.totalItem=t.orderDetails.length,e.footerData.totalAmt=t.grand_total+e.footerData.totalAmt,e.footerData.balance=e.footerData.balance+t.balance,e.footerData.totalPaid=e.footerData.totalPaid+t.paid_amount,e.footerData.count=e.footerData.count+1}),t},exportOrder:function(){var t=document.querySelector(".order-table table tbody").innerHTML,e=document.querySelector(".order-table table tfoot").innerHTML;console.log(t+e);var a=new F.a(t+e,this.headers);a.generate(),a.download()},saveDate:function(t){this.$refs.menu.save(t)},saveEndDate:function(t){this.$refs.endDate.save(t)}}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",[a("app-header"),t._v(" "),a("v-container",[a("v-card-title",[a("v-spacer"),t._v(" "),a("div",[a("v-menu",{ref:"menu",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":t.startDate},on:{"update:returnValue":function(e){t.startDate=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"From",required:"","prepend-icon":"event",readonly:t.view},slot:"activator",model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{change:t.saveDate},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)],1),t._v(" "),a("div",[a("v-menu",{ref:"endDate",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":t.endDate},on:{"update:returnValue":function(e){t.endDate=e}},model:{value:t.endDatePicker,callback:function(e){t.endDatePicker=e},expression:"endDatePicker"}},[a("v-text-field",{attrs:{slot:"activator",label:"To"},slot:"activator",model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{change:t.saveEndDate},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-select",{ref:"status",attrs:{items:t.statusItem,label:"Status"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),t._v(" "),a("v-btn",{attrs:{color:"info",onclick:""},nativeOn:{click:function(e){return t.searchOrder(e)}}},[t._v("Search")]),t._v(" "),a("v-btn",{attrs:{color:"info",onclick:""},nativeOn:{click:function(e){return t.exportOrder(e)}}},[t._v("Export")])],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1 order-table",attrs:{"hide-actions":"",headers:t.headers,search:t.search,items:t.orderList,"item-key":"name","rows-per-page-items":t.pageSetup,loading:t.orderLoading},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.order_no))]),t._v(" "),a("td",[t._v(t._s(e.item.order_date))]),t._v(" "),a("td",[t._v(t._s(e.item.status))]),t._v(" "),a("td",[t._v(t._s(e.item.customer_name))]),t._v(" "),a("td",[t._v(t._s(e.item.totalItem))]),t._v(" "),a("td",[t._v(t._s(e.item.grand_total))]),t._v(" "),a("td",[t._v(t._s(e.item.paid_amount))]),t._v(" "),a("td",[t._v(t._s(e.item.balance))]),t._v(" "),a("td",[t._v(t._s(e.item.delivery_date))])]}}])},[a("template",{slot:"footer"},[a("tr",[a("td",[a("b",[t._v("Total Order")])]),t._v(" "),a("td",[t._v(" "+t._s(t.footerData.count))]),t._v(" "),a("td",[t._v("Total Amount")]),t._v(" "),a("td",[t._v(t._s(t.footerData.totalAmt))]),t._v(" "),a("td",[t._v("Payment Received")]),a("td",[t._v(t._s(t.footerData.totalPaid)+" ")]),t._v(" "),a("td",[t._v("Balance")]),a("td",[t._v(t._s(t.footerData.balance))])])])],2),t._v(" "),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:t.processing,callback:function(e){t.processing=e},expression:"processing"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[t._v("\n            Please wait\n            "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1),t._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},Y=a("VU/8")(V,B,!1,null,null,null).exports,W=a("bOdI"),X=a.n(W),G=u.a.API_URL,J={data:function(){return{validated:1,search:"",loginPage:!1,orderList:[],status:"all",menu:!1,endDatePicker:!1,footerData:{totalAmt:0,totalPaid:0,byMode:0},endDate:(new Date).toISOString().substr(0,10),startDate:(new Date).toISOString().substr(0,10),statusItem:["all","pending","ready","delivered"],headers:[{text:"Payment Id",align:"center",value:"order_no",sortable:!1},{text:"Order No",align:"center",value:"order_no"},X()({text:"Payment Date",value:"order_no"},"value","paymentDetails.payment_date"),{text:"Payment Time",value:"customer_name"},{text:"Amount",align:"center",value:"paymentDetails.amount"},{text:"Mode",align:"center",value:"paymentDetails.mode"}]}},mounted:function(){this.getAllOrder()},methods:{getAllOrder:function(t){var e=this;this.orderLoading=!0,d.a.get(G+"/api/v1/orderPaymentReports",{headers:{Authorization:m.getAuthenticationHeader(this)},params:{startDate:this.startDate,endDate:this.endDate}}).then(function(t){var a=t.data;return e.orderList=e.formateData(a),e.orderLoading=!1,console.log(a)})},searchOrder:function(t){var e=this;this.orderLoading=!0,d.a.get(G+"/api/v1/orderPaymentReports",{headers:{Authorization:m.getAuthenticationHeader(this)},params:{startDate:this.startDate,endDate:this.endDate}}).then(function(t){var a=t.data;return e.orderList=e.formateData(a),e.needSetup=!(a.length>0),e.orderLoading=!1,console.log(a)})},formateDate:function(t){return t?T()(t).format("YYYY-MM-DD"):""},formateTime:function(t){return t?T()(t).format("LLLL"):""},formateData:function(t){var e=this;this.footerData={totalAmt:0};var a=[];return t.forEach(function(t){t.paymentDetails.payment_time=e.formateTime(t.paymentDetails.payment_date),t.paymentDetails.payment_date=e.formateDate(t.paymentDetails.payment_date),e.footerData.totalAmt=e.footerData.totalAmt+t.paymentDetails.amount,a[t.paymentDetails.mode]=(a[t.paymentDetails.mode]||0)+t.paymentDetails.amount,console.log(t.paymentDetails.amount,e.footerData.totalAmt,a)}),this.footerData.byMode=a,t},exportOrder:function(){var t=document.querySelector(".order-table table tbody").innerHTML,e=document.querySelector(".order-table table tfoot").innerHTML;console.log(t+e);var a=new F.a(t+e,this.headers);a.generate(),a.download()},saveDate:function(t){this.$refs.menu.save(t)},saveEndDate:function(t){this.$refs.endDate.save(t)}}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",[a("app-header"),t._v(" "),a("v-container",[a("v-card-title",[a("v-spacer"),t._v(" "),a("div",[a("v-menu",{ref:"menu",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":t.startDate},on:{"update:returnValue":function(e){t.startDate=e}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"From",required:"","prepend-icon":"event"},slot:"activator",model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{change:t.saveDate},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("div",[a("v-menu",{ref:"endDate",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":t.endDate},on:{"update:returnValue":function(e){t.endDate=e}},model:{value:t.endDatePicker,callback:function(e){t.endDatePicker=e},expression:"endDatePicker"}},[a("v-text-field",{attrs:{slot:"activator",label:"To"},slot:"activator",model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),t._v(" "),a("v-date-picker",{attrs:{"no-title":"",scrollable:""},on:{change:t.saveEndDate},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"info",onclick:""},nativeOn:{click:function(e){return t.searchOrder(e)}}},[t._v("Search")]),t._v(" "),a("v-btn",{attrs:{color:"info",onclick:""},nativeOn:{click:function(e){return t.exportOrder(e)}}},[t._v("Export")])],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1 order-table",attrs:{"hide-actions":"",headers:t.headers,search:t.search,items:t.orderList,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.paymentDetails._id))]),t._v(" "),a("td",[t._v(t._s(e.item.order_no))]),t._v(" "),a("td",[t._v(t._s(e.item.paymentDetails.payment_date))]),t._v(" "),a("td",[t._v(t._s(e.item.paymentDetails.payment_time))]),t._v(" "),a("td",[t._v(t._s(e.item.paymentDetails.amount))]),t._v(" "),a("td",[t._v(t._s(e.item.paymentDetails.mode))])]}}])},[a("template",{slot:"footer"},[a("tr",[a("td",[t._v("By  Cash")]),t._v(" "),a("td",[t._v(t._s(t.footerData.byMode.Cash))]),t._v(" "),a("td",[t._v("By  Cheque")]),t._v(" "),a("td",[t._v(t._s(t.footerData.byMode.Cheque||0))]),t._v(" "),a("td",[t._v("By  Card")]),t._v(" "),a("td",[t._v(t._s(t.footerData.byMode.Card||0))])]),t._v(" "),a("tr",[a("td",[t._v("Total Amount")]),t._v(" "),a("td",[t._v(t._s(t.footerData.totalAmt))])])])],2)],1),t._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},Q=a("VU/8")(J,Z,!1,null,null,null).exports,K={data:function(){return{search:"",status:"",role:this.$cookie.get("role"),user:this.$cookie.get("username"),drawer:null}},mounted:function(){this.$cookie.get("username")||this.submitSignout()},methods:{submitSignout:function(){m.signout(this,"/login")},goToLink:function(t){nt.push(t)}},props:{source:String}},tt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"l-header-container"},[a("v-navigation-drawer",{attrs:{fixed:"",app:"","max-width":"200px"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[a("v-list-tile",{on:{click:function(e){t.goToLink("/")}}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Home")])],1)],1),t._v(" "),"admin"==t.role?a("v-list-tile",{class:"/user"==t.$route.path?"highlight":"",on:{click:function(e){t.goToLink("/user")}}},[a("v-list-tile-action",[a("v-icon",[t._v("weekend")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("User")])],1)],1):t._e(),t._v(" "),a("v-list-tile",{class:"/product"==t.$route.path?"highlight":"",on:{click:function(e){t.goToLink("/product")}}},[a("v-list-tile-action",[a("v-icon",[t._v("weekend")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Product")])],1)],1),t._v(" "),a("v-list-tile",{class:"/order"==t.$route.path?"highlight":"",on:{click:function(e){t.goToLink("/order")}}},[a("v-list-tile-action",[a("v-icon",[t._v("weekend")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Order")])],1)],1),t._v(" "),"admin"==t.role?a("v-list-tile",{class:"/orderReport"==t.$route.path?"highlight":"",on:{click:function(e){t.goToLink("/orderReport")}}},[a("v-list-tile-action",[a("v-icon",[t._v("weekend")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Reports")])],1)],1):t._e(),t._v(" "),"admin"==t.role?a("v-list-tile",{class:"/paymentReport"==t.$route.path?"highlight":"",on:{click:function(e){t.goToLink("/paymentReport")}}},[a("v-list-tile-action",[a("v-icon",[t._v("weekend")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Payment Reports")])],1)],1):t._e()],1)],1),t._v(" "),a("v-toolbar",{attrs:{color:"indigo",dark:"",fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),a("v-toolbar-title",[t._v("Application")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-menu",{attrs:{bottom:"","offset-y":""}},[a("v-btn",{attrs:{slot:"activator",flat:""},slot:"activator"},[a("v-icon",[t._v("account_circle")]),t._v(" "),a("v-spacer"),t._v(" "+t._s(t.user)+" ")],1),t._v(" "),a("v-list",[a("v-list-tile",{on:{click:function(e){t.submitSignout()}}},[a("v-list-tile-title",[a("v-icon",[t._v("input")]),t._v(" Log out")],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var et=a("VU/8")(K,tt,!1,function(t){a("XYFt")},null,null).exports,at={data:function(){return{search:"",status:""}},methods:{submitSignout:function(){m.signout(this,"/login")}}},rt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-footer",{attrs:{color:"indigo",app:""}},[e("span",{staticClass:"white--text"},[this._v("© 2017")])])},staticRenderFns:[]},ot=a("VU/8")(at,rt,!1,null,null,null).exports;r.default.component("app-header",et),r.default.component("app-footer",ot),r.default.use(n.a);var st=new n.a({routes:[{path:"/",name:"Home",components:{default:y,header:et,foter:ot},meta:{requiredAuth:!0}},{path:"/login",name:"Authentication",component:_},{path:"/user",name:"user",components:{default:C,header:et,foter:ot},meta:{requiredAuth:!0}},{path:"/product",name:"product",components:{default:S,header:et,foter:ot},meta:{requiredAuth:!0}},{path:"/order",name:"order",components:{default:I,header:et,foter:ot},meta:{requiredAuth:!0}},{path:"/orderReport",name:"orderReport",components:{default:Y,header:et,foter:ot},meta:{requiredAuth:!0}},{path:"/paymentReport",name:"paymentReport",components:{default:Q,header:et,foter:ot},meta:{requiredAuth:!0}}]}),nt=st;st.beforeEach(function(t,e,a){console.log(m.user),t.meta.requiredAuth?m.user.authenticated?a():st.push("/login"):a()});var it=a("K/Lq"),lt=a.n(it),dt=a("3EgV"),ct=a.n(dt),ut=a("IHMs"),vt=a.n(ut);a.e(0).then(a.bind(null,"7zck")),a.e(1).then(a.bind(null,"uTBe")),r.default.use(lt.a),r.default.use(ct.a,{theme:{primary:vt.a.indigo,secondary:vt.a.red.lighten4,accent:vt.a.indigo.base}}),r.default.config.productionTip=!1,m.checkAuthentication(),new r.default({el:"#app",router:nt,components:{App:s},template:"<App/>"})},RqNW:function(t,e){},VAdP:function(t,e){},VB9a:function(t,e){t.exports={API_URL:"https://korders.herokuapp.com"}},XYFt:function(t,e){},uslO:function(t,e,a){var r={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function o(t){return a(s(t))}function s(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}o.keys=function(){return Object.keys(r)},o.resolve=s,t.exports=o,o.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.21edfdca1a940b884f6a.js.map