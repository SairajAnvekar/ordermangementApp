webpackJsonp([2],{"1uuo":function(t,e){},"3F83":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("div",{attrs:{id:"app","app-data":"true"}},[e("router-view")],1)])},staticRenderFns:[]};var s=a("VU/8")({name:"App"},i,!1,function(t){a("3F83")},null,null).exports,o=a("/ocq"),n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},n,!1,function(t){a("1uuo")},"data-v-d8ec41bc",null).exports;var l=a("mtWM"),d=a.n(l),c=a("VB9a"),u=a.n(c),v=u.a.API_URL,p={user:{authenticated:!1},authenticate:function(t,e,a){var r=this;d.a.post(v+"/api/v1/auth",e).then(function(e){var i=e.data;t.$cookie.set("token",i.token,"1D"),t.$cookie.set("role",i.user.role,"1D"),t.$cookie.set("username",i.user.username,"1D"),t.validLogin=!0,r.user.authenticated=!0,a&&I.push(a)}).catch(function(e){var a=e.response.data;t.snackbar=!0,t.loading=!1,t.message=a.message})},signout:function(t,e){t.$cookie.delete("token"),this.user.authenticated=!1,e&&I.push(e)},signup:function(t,e,a){var r=this;d.a.post(v+"/api/v1/signup",e).then(function(i){var s=i.data.token;t.$cookie.set("token",s,"1D"),t.validSignUp=!0,r.user.authenticated=!0,r.authenticate(t,e,a)}).catch(function(e){var a=e.response.data;t.snackbar=!0,t.loading=!1,t.message=a.message})},checkAuthentication:function(){var t=document.cookie;this.user.authenticated=!!t},getAuthenticationHeader:function(t){return"Bearer "+t.$cookie.get("token")}},m={data:function(){return{snackbar:!1,validLogin:!1,validSignUp:!1,signUpVisible:!1,loginPasswordVisible:!1,signUpPasswordVisible:!1,loading:!1,rules:[function(t){return!!t||"This field is required"}],credentials:{username:"",password:""},newUser:{username:"",password:""},message:""}},methods:{submitAuthentication:function(){this.loading=!0,p.authenticate(this,this.credentials,"/")},submitSignUp:function(){p.signup(this,this.newUser,"/")}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[0==t.signUpVisible?a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Login form")]),t._v(" "),a("v-spacer")],1),t._v(" "),t.loading?a("v-progress-linear",{attrs:{color:"indigo",indeterminate:!0}}):t._e(),t._v(" "),a("v-card-text",[a("v-form",{attrs:{wrap:""},model:{value:t.validLogin,callback:function(e){t.validLogin=e},expression:"validLogin"}},[a("v-text-field",{attrs:{"prepend-icon":"account_box",rules:t.rules,required:"",name:"login",label:"Login",type:"text"},model:{value:t.credentials.username,callback:function(e){t.$set(t.credentials,"username",e)},expression:"credentials.username"}}),t._v(" "),a("v-text-field",{attrs:{"prepend-icon":"lock",rules:t.rules,"append-icon":t.loginPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return t.loginPasswordVisible=!t.loginPasswordVisible},type:t.loginPasswordVisible?"text":"password",required:"",name:"password",label:"Password",id:"password",type:"password"},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password",e)},expression:"credentials.password"}})],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){t.submitAuthentication()}}},[t._v("Login")])],1)],1):t._e(),t._v(" "),t.signUpVisible?a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v("Sign Up form")]),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-card-text",[a("v-form",{model:{value:t.validSignUp,callback:function(e){t.validSignUp=e},expression:"validSignUp"}},[a("v-text-field",{attrs:{label:"Username","prepend-icon":"account_box",rules:t.rules,required:""},model:{value:t.newUser.username,callback:function(e){t.$set(t.newUser,"username",e)},expression:"newUser.username"}}),t._v(" "),a("v-text-field",{attrs:{label:"Employe ID","prepend-icon":"account_box",rules:t.rules,required:""},model:{value:t.newUser.emp_id,callback:function(e){t.$set(t.newUser,"emp_id",e)},expression:"newUser.emp_id"}}),t._v(" "),a("v-text-field",{attrs:{label:"Password","prepend-icon":"lock",rules:t.rules,"append-icon":t.signUpPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return t.signUpPasswordVisible=!t.signUpPasswordVisible},type:t.signUpPasswordVisible?"text":"password",required:""},model:{value:t.newUser.password,callback:function(e){t.$set(t.newUser,"password",e)},expression:"newUser.password"}})],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){t.signUpVisible=!1}}},[t._v("Login")]),t._v(" "),a("v-btn",{attrs:{block:"",color:"primary"},nativeOn:{click:function(e){t.submitSignUp()}}},[t._v("Sign Up")])],1)],1):t._e(),t._v(" "),a("v-snackbar",{attrs:{bottom:"bottom",color:"red lighten-1"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.message)+"\n                    ")])],1)],1)],1)],1)],1)},staticRenderFns:[]},h=a("VU/8")(m,_,!1,null,null,null).exports,f=(u.a.API_URL,{render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-content",[e("v-layout",[e("app-header"),this._v(" "),e("v-container",[e("v-list",[e("v-layout",{attrs:{row:"",wrap:"",header:""}},[e("h1",[this._v("Welcome To Inventory Management")])])],1)],1),this._v(" "),e("app-footer")],1)],1)},staticRenderFns:[]}),g=a("VU/8")({data:function(){return{validated:1,loginPage:!1}},mounted:function(){},methods:{}},f,!1,null,null,null).exports,b=u.a.API_URL;console.log(b);var x={data:function(){return{validated:1,loginPage:!1,dialog2:!1,search:"",usersList:[],role:this.$cookie.get("role"),employe:{username:"",password:"",emp_id:"",email:"",_id:"",tel_no:"",leaves:{privilege:null},role:"employe"},headers:[{text:"Username",align:"center",sortable:!1,value:"username"},{text:"Email",align:"center",value:"Action"},{text:"Role",align:"center",value:"Role"},{text:"Edit",align:"center",value:"Edit"}]}},mounted:function(){this.getAllUsers()},methods:{create:function(){this.dialog2=!0,this.employe={username:"",password:"",emp_id:"",email:"",_id:"",tel_no:"",role:"employe",leaves:{privilege:null}}},save:function(){var t=this;d.a.post(b+"/api/v1/signup",this.employe).then(function(e){e.data.token;t.getAllUsers()}).catch(function(t){t.response.data})},getAllUsers:function(t){var e=this;d.a.get(b+"/api/v1/users",{headers:{Authorization:p.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.usersList=a,console.log(a)})},editEmploye:function(t){delete t.password,this.dialog2=!0,this.employe=t},update:function(t){d.a.put(b+"/api/v1/user",this.employe,{headers:{Authorization:p.getAuthenticationHeader(this)}}).then(function(t){var e=t.data;return console.log(e)})}}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",[a("app-header"),t._v(" "),a("v-container",[a("h3",[t._v("Users")]),t._v(" "),a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:t.dialog2,callback:function(e){t.dialog2=e},expression:"dialog2"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialog2=!1}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("Employe")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[t.employe._id?t._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.save()}}},[t._v("Save")]),t._v(" "),t.employe._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.update()}}},[t._v("Update")]):t._e()],1)],1),t._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[t._v("User Controls")]),t._v(" "),a("v-divider"),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"person",label:"Employe Name "},model:{value:t.employe.name,callback:function(e){t.$set(t.employe,"name",e)},expression:"employe.name"}})],1)],1),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"person_outline",label:"Employe Username "},model:{value:t.employe.username,callback:function(e){t.$set(t.employe,"username",e)},expression:"employe.username"}})],1)],1),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"mail",label:"Employe Email "},model:{value:t.employe.email,callback:function(e){t.$set(t.employe,"email",e)},expression:"employe.email"}})],1)],1),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"phone",label:"contact No ",required:""},model:{value:t.employe.tel_no,callback:function(e){t.$set(t.employe,"tel_no",e)},expression:"employe.tel_no"}})],1)],1),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{"prepend-icon":"star",label:"New Password",required:""},model:{value:t.employe.password,callback:function(e){t.$set(t.employe,"password",e)},expression:"employe.password"}})],1)],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[t._v("Role")]),t._v(" "),a("v-radio-group",{model:{value:t.employe.role,callback:function(e){t.$set(t.employe,"role",e)},expression:"employe.role"}},[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{name:"emp",value:"employe"}})],1),t._v(" "),a("v-list-tile-content",{attrs:{for:"emp"}},[a("v-list-tile-title",[t._v("Employe")]),t._v(" "),a("v-list-tile-sub-title",[t._v("users")])],1)],1),t._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{value:"admin"}})],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Admin")]),t._v(" "),a("v-list-tile-sub-title",[t._v("Admin rights")])],1)],1)],1)],1)],1)],1),t._v(" "),a("v-btn",{attrs:{color:"indigo",fab:"",dark:"",absolute:"",top:"",left:""},on:{click:function(e){t.create()}}},[a("v-icon",{attrs:{dark:""}},[t._v("group_add")])],1),t._v(" "),a("v-card",[a("v-card-title",[t._v("\n          Users\n          "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.usersList,"item-key":"name",search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.username))]),t._v(" "),a("td",[t._v(t._s(e.item.email))]),t._v(" "),a("td",[t._v(t._s(e.item.role.toUpperCase()))]),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{outline:"",fab:"",color:"indigo"},on:{click:function(a){t.editEmploye(e.item)}}},[a("v-icon",[t._v("edit")])],1)],1)]}}])})],1)],1),t._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},k=a("VU/8")(x,y,!1,null,null,null).exports,w=u.a.API_URL,j={data:function(){return{snackbar:!1,valid:!0,view:!1,message:"test",validated:1,loginPage:!1,productDialog:!1,dialog:!1,search:"",productLoading:!0,productList:[],categoryList:[],categoryId:"",role:this.$cookie.get("role"),categoryResult:{status:!1,error:""},productResult:{status:!1,type:"error",message:""},product:{size:{height:0,width:0,rate:0}},category:{name:"",code:""},rules:{required:function(t){return!!t||"Required."},validateNum:function(t){return!isNaN(t)||"Number Required."},counter:function(t){return t.length<=20||"Max 20 characters"},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}},headers:[{text:"Code",align:"center",sortable:!1,value:"code"},{text:"Name",align:"center",value:"name"},{text:"Desc",align:"center",value:"Role"},{text:"Price",align:"center",value:"price"},{text:"Edit",align:"center",value:"Edit"}]}},mounted:function(){this.getAllProduct(),this.getCategory()},watch:{"product.size.height":function(t){console.log(t),this.product.price=t*this.product.size.width*this.product.size.rate},"product.size.width":function(t){this.product.price=this.product.size.height*this.product.size.width*this.product.size.rate},"product.size.rate":function(t){this.product.price=this.product.size.height*this.product.size.width*this.product.size.rate}},methods:{getAllProduct:function(t){var e=this;this.productLoading=!0,d.a.get(w+"/api/v1/product",{headers:{Authorization:p.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.productList=a,e.productLoading=!1,console.log(a)})},create:function(){this.productDialog=!0,this.product={size:{height:0,width:0,rate:0}}},editProduct:function(t){this.productDialog=!0,this.product=t,this.product.hasSize||(this.$set(this.product,"size",{height:0,width:0,rate:0}),this.snackbar=!0,this.view=!1)},viewProduct:function(t){console.log("dddddddddddddddd"),this.view=!0,console.log(this.view),this.productDialog=!0,this.product=t,this.product.hasSize||this.$set(this.product,"size",{height:0,width:0,rate:0})},save:function(){var t=this;if(this.$refs.form.validate()){var e=this.categoryList.filter(function(e){return e._id==t.product.category_id});console.log(e[0]),console.log(this.product.category_id),this.product.catCode=e[0].code,d.a.post(w+"/api/v1/product",this.product).then(function(e){e.data.token;t.productResult.status=!0,t.productResult.message="Succesfuly Added",t.productResult.type="succes",t.getAllProduct(),t.product={size:{height:0,width:0,rate:0}}}).catch(function(e){e.response.data;t.productResult.status=!0,t.productResult.message="Duplicate Entry or something went wrong",t.productResult.type="error"})}},getCategory:function(){var t=this;d.a.get(w+"/api/v1/category",{headers:{Authorization:p.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.categoryList=a,console.log(a)})},update:function(t){var e=this;d.a.put(w+"/api/v1/product",this.product,{headers:{Authorization:p.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return console.log(a),e.productDialog=!1,e.getAllProduct()})},deleteProduct:function(t){var e=this;d.a.put(w+"/api/v1/product/delete",t,{headers:{Authorization:p.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return console.log(a),e.productDialog=!1,e.getAllProduct()})},addCategory:function(){var t=this;d.a.post(w+"/api/v1/category",this.category).then(function(e){e.data.token;t.getCategory(),t.dailog=!1,console.log(data)}).catch(function(e){e.response.data;t.categoryResult.status=!0,t.categoryResult.error="Duplicate Entry"})}}},z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",[a("app-header"),t._v(" "),a("v-container",[a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:t.productDialog,callback:function(e){t.productDialog=e},expression:"productDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.productDialog=!1}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("Product")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[t.product._id?t._e():a("v-btn",{attrs:{dark:"",flat:"",disabled:t.view},nativeOn:{click:function(e){t.save()}}},[t._v("Save")]),t._v(" "),t.product._id?a("v-btn",{attrs:{dark:"",flat:"",disabled:t.view},nativeOn:{click:function(e){t.update()}}},[t._v("Update")]):t._e()],1)],1),t._v(" "),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Product  test"+t._s(t.view))])]),t._v(" "),a("v-card-text",[a("v-alert",{attrs:{value:t.productResult.status,type:t.productResult.type}},[t._v(t._s(t.productResult.message)+"\n                ")]),t._v(" "),a("v-container",{attrs:{"grid-list-md":""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Product Name ",readonly:t.view,rules:[t.rules.required]},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs9:"",sm6:"",md3:""}},[a("v-autocomplete",{attrs:{readonly:t.view,rules:[t.rules.required],items:t.categoryList,"max-height":"500",chips:"",label:"Category","item-text":"name","item-value":"_id"},scopedSlots:t._u([{key:"selection",fn:function(e){var r=e.item;return e.index,[a("v-chip",[a("span",[t._v(t._s(r.name))])])]}},{key:"item",fn:function(e){return["object"!=typeof e.item?[a("v-list-tile-content",{domProps:{textContent:t._s(e.item)}})]:[a("v-list-tile-avatar",{staticClass:"dropdown_avatar"},[a("span",{staticClass:"red--text"},[t._v(" "+t._s(e.item.name.charAt(0).toUpperCase()))])]),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:t._s(e.item.name)}}),t._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:t._s(e.item.code)}})],1)]]}}]),model:{value:t.product.category_id,callback:function(e){t.$set(t.product,"category_id",e)},expression:"product.category_id"}})],1),t._v(" "),a("v-flex",{attrs:{xs3:"",sm3:"",md1:""}},[a("v-btn",{attrs:{fab:"",dark:"",small:"",color:"indigo"},nativeOn:{click:function(e){t.dialog=!0}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Product Code ",readonly:t.view,rules:[t.rules.required]},model:{value:t.product.code,callback:function(e){t.$set(t.product,"code",e)},expression:"product.code"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Product Description",readonly:t.view,rules:[t.rules.required]},model:{value:t.product.description,callback:function(e){t.$set(t.product,"description",e)},expression:"product.description"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-checkbox",{attrs:{label:"Has Dimentions",readonly:t.view},model:{value:t.product.hasSize,callback:function(e){t.$set(t.product,"hasSize",e)},expression:"product.hasSize"}})],1),t._v(" "),t.product.hasSize?a("div",{staticStyle:{display:"flex"}},[a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{label:"Height",rules:[t.rules.required],readonly:t.view,type:"number",required:""},model:{value:t.product.size.height,callback:function(e){t.$set(t.product.size,"height",e)},expression:"product.size.height"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{label:"Width",rules:[t.rules.required],readonly:t.view,type:"number",required:""},model:{value:t.product.size.width,callback:function(e){t.$set(t.product.size,"width",e)},expression:"product.size.width"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-text-field",{attrs:{label:"Unit Rate",readonly:t.view,rules:[t.rules.required],type:"number",required:""},model:{value:t.product.size.rate,callback:function(e){t.$set(t.product.size,"rate",e)},expression:"product.size.rate"}})],1)],1):t._e(),t._v(" "),a("v-flex",{attrs:{xs12:""}},[a("v-flex",{attrs:{md3:""}},[a("v-text-field",{attrs:{label:"Product Price",readonly:t.view,rules:[t.rules.required],type:"number",required:""},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1)],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.productDialog=!1}}},[t._v("Close")]),t._v(" "),t.product._id?t._e():a("v-btn",{attrs:{color:"blue darken-1",dark:"",flat:""},nativeOn:{click:function(e){t.save()}}},[t._v("Save")])],1)],1),t._v(" "),a("v-divider")],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"300px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Category")])]),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Category Name*",required:""},model:{value:t.category.name,callback:function(e){t.$set(t.category,"name",e)},expression:"category.name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-text-field",{attrs:{label:"Category Code"},model:{value:t.category.code,callback:function(e){t.$set(t.category,"code",e)},expression:"category.code"}})],1),t._v(" "),a("v-alert",{attrs:{value:t.categoryResult.status,type:"error"}},[t._v(t._s(t.categoryResult.error)+"\n                  ")])],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.dialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.addCategory()}}},[t._v("Save")])],1)],1)],1),t._v(" "),a("v-btn",{attrs:{color:"indigo",fab:"",dark:"",absolute:"",top:"",left:""},on:{click:function(e){t.create()}}},[a("v-icon",{attrs:{dark:""}},[t._v("group_add")])],1),t._v(" "),a("v-card-title",[t._v("\n          Product\n          "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.productList,"item-key":"name",loading:t.productLoading,search:t.search},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.code))]),t._v(" "),a("td",[t._v(t._s(e.item.name))]),t._v(" "),a("td",[t._v(t._s(e.item.description))]),t._v(" "),a("td",[t._v(t._s(e.item.price))]),t._v(" "),a("td",{staticClass:"text-xs-center"},["admin"==t.role?a("span",[a("v-btn",{attrs:{outline:"",fab:"",small:"",color:"indigo"},on:{click:function(a){t.editProduct(e.item)}}},[a("v-icon",[t._v("edit")])],1),t._v(" "),a("v-btn",{attrs:{outline:"",fab:"",small:"",color:"indigo"},on:{click:function(a){t.deleteProduct(e.item)}}},[a("v-icon",[t._v("remove")])],1)],1):t._e(),t._v(" "),a("v-btn",{attrs:{outline:"",fab:"",small:"",color:"indigo"},on:{click:function(a){t.viewProduct(e.item)}}},[a("v-icon",[t._v("visibility")])],1)],1)]}}])}),t._v(" "),a("v-snackbar",{attrs:{top:"top",color:"red lighten-1"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n                    "+t._s(t.message)+"\n                    ")])],1),t._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},A=a("VU/8")(j,z,!1,null,null,null).exports,P=a("PJh5"),D=a.n(P),q=a("QSfm"),O=a.n(q),C=u.a.API_URL,S={data:function(){return{validated:1,search:"",valid:!0,payment:{amount:0,mode:"Cash"},createOrderDialog:!1,loginPage:!1,employe:{},productList:[],needSetup:!0,orderList:[],orderLoading:!0,view:!1,role:this.$cookie.get("role"),paymentDialog:!1,pagination:{sortBy:"order_no",descending:!1},productMap:[],printDialog:!1,statusItem:["pending","ready","delivered"],paymentType:["Cash","Card","Cheque"],paymentHeaders:[{text:"Transation Id",align:"center",value:"_id",sortable:!1},{text:"Date",align:"center",value:"payment_date",sortable:!1},{text:"Amount",align:"center",value:"amout",sortable:!1}],headers:[{text:"Order No",align:"center",value:"order_no",sortable:!1},{text:"Customer Name",align:"center",value:"name"},{text:"Grand Total",align:"center",value:"grand_total"},{text:"Order Date",align:"center",value:"order_date"},{text:"Deleivery Date",align:"center",value:"deleiver_date"},{text:"Status",align:"center",value:"status"},{text:"Action",align:"center",value:"action"}],order:{total:0,taxAmt:0,tax:0,paid_amount:0,status:"pending",paymentDetails:[],grand_total:0,orderDetails:[{product_id:"",qty:1,size:{},price:0,index:0}]},rules:{required:function(t){return!!t||"Required."},validateNum:function(t){return!isNaN(t)||"Number Required."},counter:function(t){return t.length<=20||"Max 20 characters"},email:function(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid e-mail."}},numberRule:[function(t){return!isNaN(num1)||"number is required"}],menu:!1,orderDetailHeader:[{text:"Product",value:"product"},{text:"Size ",value:"size"},{text:"Rate",value:"rate"},{text:"Price",value:"price"},{text:"Qty",value:"qty"},{text:"Amount",value:"amount"},{text:"Remove",value:"Remove"}]}},mounted:function(){this.getAllProduct(),this.getAllOrder()},computed:{payeble:function(){return this.order.grand_total-this.order.paid_amount}},methods:{saveDate:function(t){this.$refs.menu.save(t)},addOrder:function(){this.order={total:0,taxAmt:0,tax:0,paid_amount:0,status:"pending",paymentDetails:[],grand_total:0,orderDetails:[{product_id:"",qty:1,size:{},price:0,index:0}]},this.createOrderDialog=!0},save:function(){var t=this;console.log(this.$refs.form),this.$refs.form.validate()&&(this.order.created_user=this.$cookie.get("username"),d.a.post(C+"/api/v1/order",{order:this.order}).then(function(e){var a=e.data;console.log(a),t.order=a.data,t.calculateBalance(),t.getAllOrder()}).catch(function(t){t.response.data}))},setup:function(){this.order.created_user=this.$cookie.get("username"),d.a.post(C+"/api/v1/setup/ordercounter",{order:this.order}).then(function(t){t.data.token}).catch(function(t){t.response.data})},activeProduct:function(t){console.log(t.productId);var e=this.productList.find(function(e){return e._id==t.productId});t.hasSize=!!e.hasSize&&e.hasSize,this.$set(t,"size",{}),t.size.height=e.hasSize?e.size.height:"",t.size.width=e.hasSize?e.size.width:"",t.rate=e.hasSize?e.size.rate:"",t.price=e.price,t.amt=parseFloat(t.qty)*parseFloat(t.price),this.calculateTotal()},addItem:function(){this.order.orderDetails.push({product_id:"",qty:1,size:{},price:0})},removeItem:function(t){this.order.orderDetails.splice(t,1),this.calculateTotal()},calculateAmount:function(t){if(console.log({item:t}),t.hasSize){var e=parseFloat(t.rate);t.price=parseFloat(t.size.height)*parseFloat(t.size.width)*e,console.log(t,e)}t.amt=parseFloat(t.qty)*parseFloat(t.price),console.log(this.order.orderDetails),this.calculateTotal()},calculateTotal:function(){var t=0;this.order.orderDetails.forEach(function(e){t=e.amt?t+e.amt:t}),this.order.total=t,this.calculateTax()},calculateTax:function(){this.order.taxAmt=this.order.tax*this.order.total/100,this.order.grand_total=this.order.total+this.order.taxAmt},getAllOrder:function(t){var e=this;this.orderLoading=!0,d.a.get(C+"/api/v1/order",{headers:{Authorization:p.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.orderList=a,e.needSetup=!(a.length>0),e.orderLoading=!1,console.log(a)})},getAllProduct:function(t){var e=this;d.a.get(C+"/api/v1/product",{headers:{Authorization:p.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.productList=a,e.productLoading=!1,a.forEach(function(t){e.productMap[t._id]=t}),console.log(a)})},update:function(t){var e=this;this.$refs.form.validate()&&d.a.put(C+"/api/v1/order",{order:this.order},{headers:{Authorization:p.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return console.log(a),e.order=a,e.calculateBalance(),e.getAllOrder()})},formateDate:function(t){return t?D()(new O.a(t)).format("YYYY-MM-DD"):""},editOrder:function(t){this.createOrderDialog=!0,this.order=t,this.order.delivery_date=this.order.delivery_date?D()(new O.a(this.order.delivery_date)).format("YYYY-MM-DD"):"",this.calculatePaidAmt(),this.calculateBalance(),this.view=!1},viewOrder:function(t){this.createOrderDialog=!0,this.order=t,this.order.delivery_date=this.order.delivery_date?D()(new O.a(this.order.delivery_date)).format("YYYY-MM-DD"):"",this.calculatePaidAmt(),this.calculateBalance(),this.view=!0},pay:function(){this.order.paymentDetails.push(this.payment),this.payment={amount:0,mode:"Cash"},this.calculatePaidAmt(),this.saveOrUpdate()},saveOrUpdate:function(){this.order._id?this.update():this.save()},calculatePaidAmt:function(){var t=0;console.log(this.order.paymentDetails),this.order.paymentDetails&&this.order.paymentDetails.forEach(function(e){t+=parseFloat(e.amount)||0,console.log({count:t})}),console.log(t),this.order.paid_amount=t},calculateBalance:function(){console.log(this.order),this.order.balance=this.order.grand_total-((parseFloat(this.order.paid_amount)||0)+(parseFloat(this.payment.amount)||0)),console.log(parseFloat(this.order.paid_amount)+parseFloat(this.payment.amount))},printElem:function(){var t=document.getElementById("printArea").innerHTML,e=window.open("","Print","height=600,width=800");return e.document.write("<html><head><title>Print</title><style>.recipt{width:80mm;}.recipt .header td{text-align:center}</style>"),e.document.write("</head><body >"),e.document.write(t),e.document.write("</body></html>"),e.document.close(),e.focus(),e.print(),e.close(),!0}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-layout",[a("app-header"),t._v(" "),a("v-container",[a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:t.createOrderDialog,callback:function(e){t.createOrderDialog=e},expression:"createOrderDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.createOrderDialog=!1}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("Add Order")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[t.order._id?t._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.save()}}},[t._v("Save")]),t._v(" "),t.needSetup?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.setup()}}},[t._v("setup")]):t._e(),t._v(" "),t.order._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.update()}}},[t._v("Update")]):t._e(),t._v(" "),t.order._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.printElem()}}},[t._v("Print")]):t._e()],1)],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Order No",disabled:""},model:{value:t.order.order_no,callback:function(e){t.$set(t.order,"order_no",e)},expression:"order.order_no"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Customer Name ",required:"",rules:[t.rules.required],readonly:t.view},model:{value:t.order.customer_name,callback:function(e){t.$set(t.order,"customer_name",e)},expression:"order.customer_name"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Customer Phone No ",required:"",rules:[t.rules.required],readonly:t.view},model:{value:t.order.customer_tel,callback:function(e){t.$set(t.order,"customer_tel",e)},expression:"order.customer_tel"}})],1),t._v(" "),a("v-flex",{attrs:{xs9:"",sm6:"",md3:""}},[a("v-menu",{ref:"menu",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":t.order.delivery_date},on:{"update:returnValue":function(e){t.$set(t.order,"delivery_date",e)}},model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Date Of Delivery",required:"","prepend-icon":"event",readonly:""},slot:"activator",model:{value:t.order.delivery_date,callback:function(e){t.$set(t.order,"delivery_date",e)},expression:"order.delivery_date"}}),t._v(" "),a("v-date-picker",{attrs:{required:"",rules:[t.rules.required],"no-title":"",scrollable:""},on:{change:t.saveDate},model:{value:t.order.delivery_date,callback:function(e){t.$set(t.order,"delivery_date",e)},expression:"order.delivery_date"}})],1)],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md3:""}},[a("v-select",{attrs:{items:t.statusItem,required:"",readonly:t.view,label:"Status",rules:[t.rules.required]},model:{value:t.order.status,callback:function(e){t.$set(t.order,"status",e)},expression:"order.status"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-data-table",{staticClass:"elevation-1 order",attrs:{"hide-actions":"",headers:t.orderDetailHeader,items:t.order.orderDetails,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[a("v-select",{attrs:{required:"",items:t.productList,rules:[t.rules.required],"item-value":"_id","item-text":"name",autocomplete:"","single-line":"",readonly:t.view},on:{input:function(a){t.activeProduct(e.item)}},model:{value:e.item.productId,callback:function(a){t.$set(e.item,"productId",a)},expression:"props.item.productId"}})],1),t._v(" "),a("td",[e.item.hasSize?a("div",{staticStyle:{display:"inline-flex","max-width":"200px"},attrs:{calss:"xs4 sm4 md6"}},[a("v-flex",{attrs:{xs4:"",sm4:"",md6:""}},[a("v-text-field",{attrs:{rules:[t.rules.required],readonly:t.view},on:{input:function(a){t.calculateAmount(e.item)}},model:{value:e.item.size.height,callback:function(a){t.$set(e.item.size,"height",a)},expression:"props.item.size.height"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",sm4:"",md6:""}},[a("v-text-field",{attrs:{rules:[t.rules.required,t.rules.validateNum],readonly:t.view},on:{input:function(a){t.calculateAmount(e.item)}},model:{value:e.item.size.width,callback:function(a){t.$set(e.item.size,"width",a)},expression:"props.item.size.width"}})],1)],1):t._e()]),t._v(" "),a("td",[e.item.hasSize?a("v-text-field",{attrs:{readonly:t.view},on:{input:function(a){t.calculateAmount(e.item)}},model:{value:e.item.rate,callback:function(a){t.$set(e.item,"rate",a)},expression:"props.item.rate"}}):t._e()],1),t._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-text-field",{attrs:{readonly:t.view,type:"number"},on:{input:function(a){t.calculateAmount(e.item)}},model:{value:e.item.price,callback:function(a){t.$set(e.item,"price",a)},expression:"props.item.price"}})],1),t._v(" "),a("td",[a("v-text-field",{attrs:{readonly:t.view,type:"number"},on:{input:function(a){t.calculateAmount(e.item)}},model:{value:e.item.qty,callback:function(a){t.$set(e.item,"qty",a)},expression:"props.item.qty"}})],1),t._v(" "),a("td",[a("v-text-field",{attrs:{readonly:t.view},model:{value:e.item.amt,callback:function(a){t.$set(e.item,"amt",a)},expression:"props.item.amt"}})],1),t._v(" "),a("td",[a("v-btn",{attrs:{fab:"",disabled:t.view,color:"indigo",small:""},nativeOn:{click:function(a){t.removeItem(e.index)}}},[a("v-icon",[t._v("delete")])],1)],1)]}}])},[a("template",{slot:"footer"},[a("tr",[a("td",[a("v-btn",{attrs:{fab:"",disabled:t.view,color:"indigo",dark:"",small:"",top:""},nativeOn:{click:function(e){t.addItem()}}},[a("v-icon",{attrs:{dark:""}},[t._v("add")])],1)],1),t._v(" "),a("td",{staticClass:"text-xs-right",attrs:{colspan:"4"}},[a("strong",[t._v("Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right",attrs:{colspan:"1"}},[t._v(t._s(t.order.total))])]),t._v(" "),a("tr",[a("td",{staticClass:"text-xs-right",attrs:{colspan:"4"}},[a("strong",[t._v("Tax")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[a("v-text-field",{attrs:{readonly:t.view,type:"number"},on:{input:function(e){t.calculateTax()}},model:{value:t.order.tax,callback:function(e){t.$set(t.order,"tax",e)},expression:"order.tax"}})],1),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.taxAmt))])]),t._v(" "),a("tr",[a("td",{staticClass:"text-xs-right",attrs:{colspan:"5"}},[a("strong",[t._v("Total Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.grand_total))])]),t._v(" "),a("tr",[a("td",{staticClass:"text-xs-right",attrs:{colspan:"5"}},[a("strong",[t._v("Paid Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.paid_amount))])]),t._v(" "),a("tr",[a("td",[a("v-btn",{attrs:{color:"indigo",disabled:!t.valid,indigo:"",dark:"",small:""},nativeOn:{click:function(e){t.paymentDialog=!0,t.calculateBalance()}}},[t._v("\n                                Payement\n                              ")])],1),t._v(" "),a("td",{staticClass:"text-xs-right",attrs:{colspan:"4"}},[a("strong",[t._v("Payeble Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.payeble))])])])],2)],1)],1)],1)],1),t._v(" "),a("small",[t._v("*indicates required field")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:t.paymentDialog,callback:function(e){t.paymentDialog=e},expression:"paymentDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Payment")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.paymentDialog=!1}}},[t._v("Close")])],1),t._v(" "),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[a("v-text-field",{attrs:{label:"Amount*",required:"",rules:[t.rules.validateNum]},on:{input:function(e){t.calculateBalance()}},model:{value:t.payment.amount,callback:function(e){t.$set(t.payment,"amount",e)},expression:"payment.amount"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[a("v-text-field",{attrs:{label:"Amount Paid ",disabled:"",required:"",rules:[t.rules.validateNum]},on:{input:function(e){t.calculateBalance()}},model:{value:t.order.paid_amount,callback:function(e){t.$set(t.order,"paid_amount",e)},expression:"order.paid_amount"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[a("v-select",{attrs:{items:t.paymentType,label:"Payment Mode"},model:{value:t.payment.mode,callback:function(e){t.$set(t.payment,"mode",e)},expression:"payment.mode"}})],1),t._v(" "),a("v-flex",{attrs:{xs12:"",sm12:"",md6:""}},[a("v-text-field",{attrs:{label:"Balance*",disabled:"",required:""},model:{value:t.order.balance,callback:function(e){t.$set(t.order,"balance",e)},expression:"order.balance"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.paymentDialog=!1}}},[t._v("Close")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){t.pay()}}},[t._v("Pay")])],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.paymentHeaders,items:t.order.paymentDetails,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item._id))]),t._v(" "),a("td",[t._v(t._s(t.formateDate(e.item.payment_date)))]),t._v(" "),a("td",[t._v(t._s(e.item.amount))])]}}])})],1)],1),t._v(" "),a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:t.printDialog,callback:function(e){t.printDialog=e},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.printDialog=!1}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v("print")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[t.order._id?t._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.print()}}},[t._v("Print")])],1)],1),t._v(" "),a("v-card-text",[a("div",{attrs:{id:"printArea"}},[a("div",{staticClass:"recipt",attrs:{id:"recipt"}},[a("table",{staticClass:"header",staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("td",{attrs:{colspan:"4"}},[t._v(" LORENZ & SON")])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"4"}},[t._v(" BEHIND MUNCIPAL BLDG")])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"4"}},[t._v(" MARGAO - 40601 GOA PH:732892")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"4"}})])]),t._v(" "),a("tr",[a("td",[t._v("Order No")]),t._v(" "),a("td",[t._v(" "+t._s(t.order.order_no))]),t._v(" "),a("td",[t._v("Date")]),t._v(" "),a("td",[t._v(t._s(t.formateDate(t.order.order_date)))])]),t._v(" "),a("tr",[a("td",[t._v("Customer Name")]),t._v(" "),a("td",[t._v(t._s(t.order.customer_name))]),t._v(" "),a("td"),t._v(" "),a("td")]),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"4"}})]),t._v(" "),a("table",{staticStyle:{width:"100%"}},[a("thead",[a("tr",[a("td",[t._v(" Sr ")]),t._v(" "),a("td",[t._v("Product")]),t._v(" "),a("td",[t._v(" Qty ")]),t._v(" "),a("td",[t._v(" Amount")])])]),t._v(" "),a("tbody",[a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"100"}}),t._v(" "),t._l(t.order.orderDetails,function(e,r){return a("tr",{key:r},[a("td",[t._v(t._s(r+1))]),t._v(" "),a("td",[t.productMap[e.productId]?a("span",[t._v(t._s(t.productMap[e.productId].name))]):t._e()]),t._v(" "),a("td",[t._v(t._s(e.qty))]),t._v(" "),a("td",[t._v(t._s(e.amt))])])}),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"4"}})],2),t._v(" "),a("tfoot",[a("tr",[a("td",{staticStyle:{"top-border":"1px solid"},attrs:{colspan:"4"}})]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("Amount")]),t._v(" "),a("td",{attrs:{colspan:"1"}},[t._v(t._s(t.order.total))])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[t._v("\n                          Tax\n                        ")]),t._v(" "),a("td",[t._v(t._s(t.order.taxAmt))])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("strong",[t._v("Total Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.grand_total))])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("strong",[t._v("Paid Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.order.paid_amount))])]),t._v(" "),a("tr",[a("td",{attrs:{colspan:"3"}},[a("strong",[t._v("Payable Amount")])]),t._v(" "),a("td",{staticClass:"text-xs-right"},[t._v(t._s(t.payeble))])]),t._v(" "),a("td",{staticStyle:{"border-top":"1px solid"},attrs:{colspan:"8"}})])]),t._v(" "),a("small",[t._v("Prepared By : "+t._s(t.order.created_user))])])]),t._v(" "),a("small",[t._v("*indicates required field")])])],1)],1),t._v(" "),a("v-btn",{attrs:{color:"indigo",fab:"",dark:"",absolute:"",top:"",left:""},nativeOn:{click:function(e){t.addOrder()}}},[a("v-icon",{attrs:{dark:""}},[t._v("group_add")])],1),t._v(" "),a("v-card-title",[t._v("\n          Order\n          "),a("v-spacer"),t._v(" "),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,search:t.search,items:t.orderList,"item-key":"name",loading:t.orderLoading},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.order_no))]),t._v(" "),a("td",[t._v(t._s(e.item.customer_name))]),t._v(" "),a("td",[t._v(t._s(e.item.grand_total))]),t._v(" "),a("td",[t._v(t._s(t.formateDate(e.item.order_date)))]),t._v(" "),a("td",[t._v(t._s(t.formateDate(e.item.delivery_date)))]),t._v(" "),a("td",[a("v-chip",{attrs:{color:"primary","text-color":"white"}},[t._v(t._s(e.item.status))])],1),t._v(" "),a("td",{staticClass:"text-xs-center"},["admin"==t.role?a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"indigo"},on:{click:function(a){t.editOrder(e.item)}}},[a("v-icon",[t._v("edit")])],1):t._e(),t._v(" "),a("v-btn",{attrs:{outline:"",small:"",fab:"",color:"indigo"},on:{click:function(a){t.viewOrder(e.item)}}},[a("v-icon",[t._v("visibility")])],1)],1)]}}])})],1),t._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]};var $=a("VU/8")(S,U,!1,function(t){a("zxBh")},null,null).exports,L={data:function(){return{search:"",status:"",role:this.$cookie.get("role"),drawer:null}},methods:{submitSignout:function(){p.signout(this,"/login")},goToLink:function(t){I.push(t)}},props:{source:String}},R={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"l-header-container"},[a("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[a("v-list-tile",{on:{click:function(e){t.goToLink("/")}}},[a("v-list-tile-action",[a("v-icon",[t._v("home")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Home")])],1)],1),t._v(" "),"admin"==t.role?a("v-list-tile",{on:{click:function(e){t.goToLink("/user")}}},[a("v-list-tile-action",[a("v-icon",[t._v("weekend")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("User")])],1)],1):t._e(),t._v(" "),a("v-list-tile",{on:{click:function(e){t.goToLink("/product")}}},[a("v-list-tile-action",[a("v-icon",[t._v("weekend")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Product")])],1)],1),t._v(" "),a("v-list-tile",{on:{click:function(e){t.goToLink("/order")}}},[a("v-list-tile-action",[a("v-icon",[t._v("weekend")])],1),t._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[t._v("Order")])],1)],1)],1)],1),t._v(" "),a("v-toolbar",{attrs:{color:"indigo",dark:"",fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),a("v-toolbar-title",[t._v("Application")]),t._v(" "),a("v-flex",{attrs:{xs2:"","offset-md7":"",md2:""}},[a("v-btn",{attrs:{color:"blue"},nativeOn:{click:function(e){t.submitSignout()}}},[t._v("Sign out")])],1)],1)],1)},staticRenderFns:[]},E=a("VU/8")(L,R,!1,null,null,null).exports,N={data:function(){return{search:"",status:""}},methods:{submitSignout:function(){p.signout(this,"/login")}}},F={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-footer",{attrs:{color:"indigo",app:""}},[e("span",{staticClass:"white--text"},[this._v("© 2017")])])},staticRenderFns:[]},H=a("VU/8")(N,F,!1,null,null,null).exports;r.default.component("app-header",E),r.default.component("app-footer",H),r.default.use(o.a);var V=new o.a({routes:[{path:"/",name:"Home",components:{default:g,header:E,foter:H},meta:{requiredAuth:!0}},{path:"/login",name:"Authentication",component:h},{path:"/user",name:"user",components:{default:k,header:E,foter:H},meta:{requiredAuth:!0}},{path:"/product",name:"product",components:{default:A,header:E,foter:H},meta:{requiredAuth:!0}},{path:"/order",name:"order",components:{default:$,header:E,foter:H},meta:{requiredAuth:!0}}]}),I=V;V.beforeEach(function(t,e,a){console.log(p.user),t.meta.requiredAuth?p.user.authenticated?a():V.push("/login"):a()});var T=a("K/Lq"),M=a.n(T),B=a("3EgV"),Y=a.n(B),W=a("IHMs"),X=a.n(W);a.e(0).then(a.bind(null,"7zck")),r.default.use(M.a),r.default.use(Y.a,{theme:{primary:X.a.indigo,secondary:X.a.red.lighten4,accent:X.a.indigo.base}}),r.default.config.productionTip=!1,p.checkAuthentication(),new r.default({el:"#app",router:I,components:{App:s},template:"<App/>"})},VB9a:function(t,e){t.exports={API_URL:"https://korders.herokuapp.com"}},uslO:function(t,e,a){var r={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return a(s(t))}function s(t){var e=r[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}i.keys=function(){return Object.keys(r)},i.resolve=s,t.exports=i,i.id="uslO"},zxBh:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.396e1d735ba68dc71635.js.map